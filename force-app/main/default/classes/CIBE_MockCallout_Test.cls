/**********************************************************************************************************************
Name:	  CIBE_MockCallout_Test
Copyright © 2022  CaixaBank
-----------------------------------------------------------------------------------------------------------------------
Proposito: Test de integraciones
-----------------------------------------------------------------------------------------------------------------------
Historial
---------------------
    VERSION		USER_STORY	   AUTHOR		   					DATE			Description
    1.0			Test Class	   Jose Maria Fernandez Rodero   	01/12/2022		Init version
	1.1							Alexandre Perez					06/02/2023		ampliacion riesgo y tratamiento errores
	1.2         DE72514			Alexandre Perez					20/03/2023		adaptación cambios divisas
	1.3			US559793		Alexandre Perez					01/08/2023		adaptación CIRBE
***********************************************************************************************************************/
@isTest
public class CIBE_MockCallout_Test implements HttpCalloutMock {
	
    /**
	 * Option 1: normal execution
	 * Option 2: exception in execution
	 * Option 3: return error message in body response
	*/
	private String option;
	private String status;
	
	
	public CIBE_MockCallout_Test(String option, String status) {
		this.option = option;
		this.status = status;
	}
	

	public static final String RESPONSE_EXTENDED = '{"customerInternalId":13550,"customerName":"RAQUEL","customerLastName":"ALONSO  CASAS","customerDocId":{"key":"NIF","value":"28656271L"},"birthDate":"1959-05-15","language":"1","mobilePhoneNumber":695782046,"mobilePhonePrefix":"+34","email":"pruebas@caixabank.com","employeeId":"U0129197","employeeName":"ROBERTO PEDRO GUARC PALLARES                        ","principalBranch":3022,"RelatedBranch":[555,894,5210],"LoyaltyPrograms":[{"program":{"key":"AGRCT","value":"AgroBank"},"isCompilance":false},{"program":{"key":"CBXN","value":"CaixaBank"},"isCompilance":true},{"program":{"key":"PSU","value":"Día a Día"},"isCompilance":true,"compilanceValue":"100%"}],"Balance":[{"type":{"key":"P","value":"LIABILITIES"},"amount":201690.97},{"type":{"key":"A","value":"ASSETS"},"amount":2049.53},{"type":{"key":"R","value":"PROFITABILITY"},"amount":303.77},{"type":{"key":"N","value":"PENSION INCOME"},"amount":5252.66},{"type":{"key":"P","value":"PENSION INCOME"},"amount":5252.66},{"type":{"key":"F","value":"PROFESSIONAL INCOME"},"amount":1111},{"type":{"key":"L","value":"PERSONAL INCOME"},"amount":2703.16}],"clientExperience":0,"hasWall":true,"LoyaltyLink":[{"isCompilance":true,"indicators":10,"financialIndicator":8}],"segment":{"key":"BPR","value":"Banca Privada"},"isConfidential":false,"confidentialBranch":0,"customerType":{"key":"F","value":"Físico"},"isEmployee":false,"LoyaltySignals":[{"key":"16","value":"Limitación en ventas seguros"}],"scoring":{"status":{"key":"A","value":"A"},"value":1.5},"contactPerson":"","attentionModel":{"key":"A","value":"Alto Potencial"},"subAttentionModel":"A    ","contactNumber":3,"realContactNumber":3,"attentionModelType":"   ","attentionModelCompilance":70,"isCompilanceAttentionModel":false,"isMustCompilanceAttentionModel":false,"globalCompilancePercentage":0,"cnaeCode":"0","cnaeDescription":"","postCode":"08024","country":"11","contactTime":{"initialTime":"11:00 ","finalTime":" 12:00, 15:00 "},"isClient":true,"isPreconceived":false,"interlocId":0,"RelatedEntities":[{"key":"BNKMIX","value":"Bankia mixto"}],"customerBusiness":[{"key":"BPE","value":"Banca Premier"}],"riskMatrix":0,"preconceived":0,"isAdvised":false,"prevalence":" ","LEXDate":"2020-10-10","Extended":{}}';
	public static final String RESPONSE_EXTENDED_EMPTY_BALANCE = '{"customerInternalId":13550,"customerName":"RAQUEL","customerLastName":"ALONSO  CASAS","customerDocId":{"key":"NIF","value":"28656271L"},"birthDate":"1959-05-15","language":"1","mobilePhoneNumber":695782046,"mobilePhonePrefix":"+34","email":"pruebas@caixabank.com","employeeId":"U0129197","employeeName":"ROBERTO PEDRO GUARC PALLARES                        ","principalBranch":3022,"RelatedBranch":[555,894,5210],"segment":{"key":"BPR","value":"Banca Privada"},"isConfidential":false,"confidentialBranch":0,"customerType":{"key":"F","value":"Físico"},"isEmployee":false,"scoring":{"status":{"key":"A","value":"A"},"value":1.5},"contactPerson":"","attentionModel":{"key":"A","value":"Alto Potencial"},"subAttentionModel":"A    ","contactNumber":3,"realContactNumber":3,"attentionModelType":"   ","attentionModelCompilance":70,"isCompilanceAttentionModel":false,"isMustCompilanceAttentionModel":false,"globalCompilancePercentage":0,"cnaeCode":"0","cnaeDescription":"","postCode":"08024","country":"11","contactTime":{"initialTime":"11:00 ","finalTime":" 12:00, 15:00 "},"isClient":true,"isPreconceived":false,"interlocId":0,"RelatedEntities":[{"key":"BNKMIX","value":"Bankia mixto"}],"riskMatrix":0,"preconceived":0,"isAdvised":false,"prevalence":" ","LEXDate":"0.0","Extended":{}}';
	
	public static final String RESPONSE_DIVISAS	= '[{"ccyData":{"ccyCode":1,"ccyDigits":13,"swiftCode":"ESP","ccyCodeBE":0,"ccyShortName":"PESETA","ccyLongName":""},"exchangeData":{"fixingPurchaseExchange":0,"fixingSaleExchange":166.386,"standardPurchaseExchange":166.386,"standardSaleExchange":166.3866666666666666666666,"exchangeOperator":"D","agreementIndicator":""},"rangeData":{"standardPurchaseRange":0,"standardSaleRange":0,"fixingPurchaseRange":0},"decimalNumbers":0,"decimalRoundNumbers":3,"ccyGender":0,"correspondentBank":0,"ccyCountry":0,"isoCcyCode":0,"riskLetterCode":"","validityTime":0,"umeCcyIndicator":"","signalsData":{"quotableSignal":"S","purchaseAllowedSignal":"S","saleAllowedSignal":"S","forcedExchangeSignal":"N","fx4cashCcySignal":"N"}},{"ccyData":{"ccyCode":100,"ccyDigits":7,"swiftCode":"ESP","ccyCodeBE":0,"ccyShortName":"PESETA","ccyLongName":""},"exchangeData":{"fixingPurchaseExchange":0,"fixingSaleExchange":166.386,"standardPurchaseExchange":166.386,"standardSaleExchange":166.3866666666666666666666,"exchangeOperator":"D","agreementIndicator":""},"rangeData":{"standardPurchaseRange":0,"standardSaleRange":0,"fixingPurchaseRange":0},"decimalNumbers":0,"decimalRoundNumbers":3,"ccyGender":0,"correspondentBank":0,"ccyCountry":0,"isoCcyCode":0,"riskLetterCode":"","validityTime":0,"umeCcyIndicator":"","signalsData":{"quotableSignal":"S","purchaseAllowedSignal":"S","saleAllowedSignal":"S","forcedExchangeSignal":"N","fx4cashCcySignal":"N"}},{"ccyData":{"ccyCode":102,"ccyDigits":33,"swiftCode":"GBP","ccyCodeBE":0,"ccyShortName":"LIBRA ES","ccyLongName":""},"exchangeData":{"fixingPurchaseExchange":0,"fixingSaleExchange":0.85885,"standardPurchaseExchange":0.88015,"standardSaleExchange":0.840199999999999999999999,"exchangeOperator":"D","agreementIndicator":""},"rangeData":{"standardPurchaseRange":0,"standardSaleRange":0,"fixingPurchaseRange":0},"decimalNumbers":2,"decimalRoundNumbers":5,"ccyGender":0,"correspondentBank":0,"ccyCountry":0,"isoCcyCode":0,"riskLetterCode":"","validityTime":0,"umeCcyIndicator":"","signalsData":{"quotableSignal":"S","purchaseAllowedSignal":"S","saleAllowedSignal":"S","forcedExchangeSignal":"N","fx4cashCcySignal":"N"}},{"ccyData":{"ccyCode":103,"ccyDigits":46,"swiftCode":"USD","ccyCodeBE":0,"ccyShortName":"DOL.USA.","ccyLongName":""},"exchangeData":{"fixingPurchaseExchange":0,"fixingSaleExchange":1.0375,"standardPurchaseExchange":1.059,"standardSaleExchange":1.0109,"exchangeOperator":"D","agreementIndicator":""},"rangeData":{"standardPurchaseRange":0,"standardSaleRange":0,"fixingPurchaseRange":0},"decimalNumbers":2,"decimalRoundNumbers":4,"ccyGender":1,"correspondentBank":0,"ccyCountry":0,"isoCcyCode":0,"riskLetterCode":"","validityTime":0,"umeCcyIndicator":"","signalsData":{"quotableSignal":"S","purchaseAllowedSignal":"S","saleAllowedSignal":"S","forcedExchangeSignal":"N","fx4cashCcySignal":"N"}}]';
	
	
	public static final String RESPONSE_PRODUCTS_GROUPED =	'{"totalBalance":[{"balance":{},"productType":"S","products":[{"productLevel":35,"productId":10214,"productDescription":"Tarjeta prepago","balance":[]}]},{"balance":{"balance":[{"type":"Balance","amount":144202.65,"ccy":"EUR"}]},"productType":"R","products":[{"productLevel":35,"productId":15890,"productDescription":"Renta variable","balance":[{"type":"Balance","amount":8534.61,"ccy":"EUR"},{"type":"Last12MonthsBalanceVariation","amount":6700,"ccy":"EUR"},{"type":"Withheld","amount":5600,"ccy":"EUR"}]},{"productLevel":35,"productId":10158,"productDescription":"Cuentas a la vista","balance":[{"type":"Balance","amount":107493.92,"ccy":"EUR"},{"type":"Last12MonthsBalanceVariation","amount":1900,"ccy":"EUR"},{"type":"Withheld","amount":3500,"ccy":"EUR"}]},{"productLevel":35,"productId":10063,"productDescription":"Planes Pensiones","balance":[{"type":"Balance","amount":28174.12,"ccy":"EUR"},{"type":"Last12MonthsBalanceVariation","amount":5635,"ccy":"EUR"},{"type":"Withheld","amount":300,"ccy":"EUR"}]}]},{"balance":{"balance":[{"type":"Disposed","amount":938.9,"ccy":"EUR"},{"type":"Risk","amount":8608.66,"ccy":"EUR"},{"type":"Unpaid","amount":0,"ccy":"EUR"},{"type":"Last12MonthsBalanceVariation","amount":165024.1,"ccy":"EUR"}]},"productType":"I","products":[{"productLevel":35,"productId":10012,"productDescription":"Descubierto","balance":[{"type":"Disposed","amount":0,"ccy":"EUR"},{"type":"Risk","amount":500,"ccy":"EUR"},{"type":"Unpaid","amount":0,"ccy":"EUR"},{"type":"Last12MonthsBalanceVariation","amount":0,"ccy":"EUR"}]},{"productLevel":35,"productId":10010,"productDescription":"Tarjetas","balance":[{"type":"Disposed","amount":938.9,"ccy":"EUR"},{"type":"Risk","amount":8108.66,"ccy":"EUR"},{"type":"Unpaid","amount":0,"ccy":"EUR"},{"type":"Last12MonthsBalanceVariation","amount":165024.1,"ccy":"EUR"}]}]}],"operativeServices":[{"id":11448,"serviceDescription":"Tributos","detail":"Una transferencia en los últimos dos meses"}]}';
	public static final String RESPONSE_PRODUCTS_DETAIL ='{"passiveBalance":144202.65,"activeBalance":938.9,"Products":[{"productId":15890,"productDescription":"Renta variable","productBalance":8534.61,"Contracts":[{"contractId":2561582,"area":2,"modality":1,"office":9610,"aplication":"2","descriptionId":6388,"ccy":"200","dueDate":"2023-06-05","Indicators":[{"key":"CAN","value":"N"},{"key":"SCF","value":"N"},{"key":"VIN","value":"S"},{"key":"MBK","value":"0"}],"Balance":[{"type":"Limit","amount":0,"ccy":"200"},{"type":"Granted","amount":0,"ccy":"200"},{"type":"Available","amount":2301.36,"ccy":"200"},{"type":"Disposed","amount":535,"ccy":"EUR"},{"type":"Withheld","amount":2200,"ccy":"EUR"},{"type":"Last12MonthsBalanceVariation","amount":1200,"ccy":"EUR"}]},{"contractId":2764139,"area":2,"modality":1,"office":9610,"aplication":"2","descriptionId":6388,"ccy":"200","dueDate":"2023-12-14","Indicators":[{"key":"CAN","value":"N"},{"key":"SCF","value":"N"},{"key":"VIN","value":"S"},{"key":"MBK","value":"0"}],"Balance":[{"type":"Limit","amount":0,"ccy":"200"},{"type":"Granted","amount":0,"ccy":"200"},{"type":"Available","amount":3297.24,"ccy":"200"},{"type":"Disposed","amount":8000,"ccy":"EUR"},{"type":"Withheld","amount":3400,"ccy":"EUR"},{"type":"Last12MonthsBalanceVariation","amount":5500,"ccy":"EUR"}]}]},{"productId":10214,"productDescription":"Tarjeta prepago","productBalance":2.85,"Contracts":[{"contractId":2064723,"area":17,"modality":13,"office":9612,"aplication":"121","descriptionId":3050,"ccy":"200","openingDate":"2008-05-01","dueDate":"2027-12-14","Indicators":[{"key":"CAN","value":"N"},{"key":"SCF","value":"N"},{"key":"VIN","value":"N"},{"key":"MBK","value":"548"}],"Balance":[{"type":"Limit","amount":0,"ccy":"200"},{"type":"Granted","amount":0,"ccy":"200"},{"type":"Available","amount":0,"ccy":"200"}]},{"contractId":2384354,"area":17,"modality":39,"office":9612,"aplication":"121","descriptionId":3050,"ccy":"200","openingDate":"2005-04-16","dueDate":"2025-10-14","Indicators":[{"key":"CAN","value":"N"},{"key":"SCF","value":"N"},{"key":"VIN","value":"N"},{"key":"MBK","value":"548"}],"Balance":[{"type":"Limit","amount":0,"ccy":"200"},{"type":"Granted","amount":0,"ccy":"200"},{"type":"Available","amount":0,"ccy":"200"}]}]},{"productId":10158,"productDescription":"Cuentas a la vista","productBalance":107493.92,"Contracts":[{"contractId":2993,"area":1,"modality":22,"office":3022,"aplication":"1","descriptionId":10673,"ccy":"200","openingDate":"1984-03-26","dueDate":"2026-11-23","Indicators":[{"key":"CAN","value":"N"},{"key":"SCF","value":"N"},{"key":"VIN","value":"S"},{"key":"MBK","value":"0"}],"Balance":[{"type":"Limit","amount":2050,"ccy":"200"},{"type":"Granted","amount":2050,"ccy":"200"},{"type":"Available","amount":165024.1,"ccy":"200"},{"type":"Disposed","amount":7000,"ccy":"EUR"},{"type":"Withheld","amount":1100,"ccy":"EUR"},{"type":"Last12MonthsBalanceVariation","amount":200,"ccy":"EUR"}]},{"contractId":5891,"area":1,"modality":22,"office":3022,"aplication":"1","descriptionId":11024,"ccy":"200","openingDate":"2014-10-01","dueDate":"2026-04-11","Indicators":[{"key":"CAN","value":"N"},{"key":"SCF","value":"N"},{"key":"VIN","value":"S"},{"key":"MBK","value":"0"}],"Balance":[{"type":"Limit","amount":0,"ccy":"200"},{"type":"Granted","amount":0,"ccy":"200"},{"type":"Disposed","amount":100494,"ccy":"EUR"},{"type":"Withheld","amount":2400,"ccy":"EUR"},{"type":"Last12MonthsBalanceVariation","amount":1700,"ccy":"EUR"}]}]},{"productId":10063,"productDescription":"Planes Pensiones","productBalance":28174.12,"Contracts":[{"contractId":2001928,"description":"Visa Oro","area":54,"modality":30,"office":9690,"aplication":"226","descriptionId":98,"ccy":"200","openingDate":"1994-03-03","dueDate":"2026-04-11","Indicators":[{"key":"CAN","value":"N"},{"key":"SCF","value":"N"},{"key":"VIN","value":"S"},{"key":"MBK","value":"0"}],"Balance":[{"type":"Limit","amount":0,"ccy":"200"},{"type":"Granted","amount":0,"ccy":"200"},{"type":"Available","amount":34943.69,"ccy":"200"},{"type":"Disposed","amount":28174,"ccy":"EUR"},{"type":"Withheld","amount":300,"ccy":"EUR"},{"type":"Last12MonthsBalanceVariation","amount":5635,"ccy":"EUR"}]}]},{"productId":10012,"productDescription":"Descubierto","productBalance":0,"Contracts":[]},{"productId":10010,"productDescription":"Tarjetas","productBalance":938.9,"Contracts":[{"contractId":1505456,"area":17,"modality":32,"office":9612,"aplication":"121","descriptionId":2374,"ccy":"200","openingDate":"2005-03-17","dueDate":"2024-03-12","Indicators":[{"key":"CAN","value":"N"},{"key":"SCF","value":"N"},{"key":"VIN","value":"N"},{"key":"MBK","value":"30"}],"Balance":[{"type":"Limit","amount":0,"ccy":"200"},{"type":"Granted","amount":0,"ccy":"200"},{"type":"Available","amount":3.4,"ccy":"200"},{"type":"Disposed","amount":39,"ccy":"EUR"},{"type":"Risk","amount":109,"ccy":"EUR"},{"type":"Unpaid","amount":0,"ccy":"EUR"},{"type":"Last12MonthsBalanceVariation","amount":100000,"ccy":"EUR"}]},{"contractId":2006144,"area":17,"modality":46,"office":9612,"aplication":"121","descriptionId":3676,"ccy":"200","openingDate":"2005-01-11","dueDate":"2025-01-11","Indicators":[{"key":"CAN","value":"N"},{"key":"SCF","value":"N"},{"key":"VIN","value":"N"},{"key":"MBK","value":"30"}],"Balance":[{"type":"Limit","amount":600,"ccy":"200"},{"type":"Granted","amount":0,"ccy":"200"},{"type":"Disposed","amount":900,"ccy":"EUR"},{"type":"Risk","amount":8000,"ccy":"EUR"},{"type":"Unpaid","amount":0,"ccy":"EUR"},{"type":"Last12MonthsBalanceVariation","amount":65024,"ccy":"EUR"}]}]}]}';
	
	
	public static final String RESPONSE_CIRBE = '{"applicationDateRequest":"0","DetailDataOthers":{"indShowTableOthers":"","indShowTableValues":"N","TableRiskDataOthers":[{"amountArragedCom":"0","amountArrangedGroup":"0","amountArrangedOtherEnt":"0","amountAvailableCom":"0","amountAvailableGroup":"0","amountAvailableOtherEnt":"0","amountNPLCom":"0","amountNPLGroup":"0","amountNPLOtherEnt":"0","arrangedFeeCaixa":"0","indActions":"SSNNN","indArrangedFeeData":"N","indNPLCom":"","indNPLGroup":"","indNPLOtherEnt":"","indTotalQuota":"N","litRiskOthers":"Factoring y operativa SR","optionProcess":"FA","ownArrangedPercentage":"0","percentageArrangedOthersEnt":"0","totalFeeCaixa":"0"},{"amountArragedCom":"0","amountArrangedGroup":"0","amountArrangedOtherEnt":"0","amountAvailableCom":"0","amountAvailableGroup":"0","amountAvailableOtherEnt":"0","amountNPLCom":"0","amountNPLGroup":"0","amountNPLOtherEnt":"0","arrangedFeeCaixa":"0","indActions":"SSNNN","indArrangedFeeData":"N","indNPLCom":"","indNPLGroup":"","indNPLOtherEnt":"","indTotalQuota":"N","litRiskOthers":"Líneas de riesgo","optionProcess":"LR","ownArrangedPercentage":"0","percentageArrangedOthersEnt":"0","totalFeeCaixa":"0"},{"amountArragedCom":"0","amountArrangedGroup":"0","amountArrangedOtherEnt":"0","amountAvailableCom":"0","amountAvailableGroup":"0","amountAvailableOtherEnt":"0","amountNPLCom":"0","amountNPLGroup":"0","amountNPLOtherEnt":"0","arrangedFeeCaixa":"0","indActions":"SSNNN","indArrangedFeeData":"N","indNPLCom":"","indNPLGroup":"","indNPLOtherEnt":"","indTotalQuota":"N","litRiskOthers":"Créditos documentarios","optionProcess":"CD","ownArrangedPercentage":"0","percentageArrangedOthersEnt":"0","totalFeeCaixa":"0"},{"amountArragedCom":"0","amountArrangedGroup":"0","amountArrangedOtherEnt":"0","amountAvailableCom":"0","amountAvailableGroup":"0","amountAvailableOtherEnt":"0","amountNPLCom":"0","amountNPLGroup":"0","amountNPLOtherEnt":"0","arrangedFeeCaixa":"0","indActions":"SSNNN","indArrangedFeeData":"N","indNPLCom":"","indNPLGroup":"","indNPLOtherEnt":"","indTotalQuota":"N","litRiskOthers":"Préstamos valores","optionProcess":"PV","ownArrangedPercentage":"0","percentageArrangedOthersEnt":"0","totalFeeCaixa":"0"},{"amountArragedCom":"0","amountArrangedGroup":"0","amountArrangedOtherEnt":"0","amountAvailableCom":"0","amountAvailableGroup":"0","amountAvailableOtherEnt":"0","amountNPLCom":"0","amountNPLGroup":"0","amountNPLOtherEnt":"0","arrangedFeeCaixa":"0","indActions":"SSNNN","indArrangedFeeData":"N","indNPLCom":"","indNPLGroup":"","indNPLOtherEnt":"","indTotalQuota":"N","litRiskOthers":"Adquisición de activo","optionProcess":"AT","ownArrangedPercentage":"0","percentageArrangedOthersEnt":"0","totalFeeCaixa":"0"},{"amountArragedCom":"0","amountArrangedGroup":"0","amountArrangedOtherEnt":"0","amountAvailableCom":"0","amountAvailableGroup":"0","amountAvailableOtherEnt":"0","amountNPLCom":"0","amountNPLGroup":"0","amountNPLOtherEnt":"0","arrangedFeeCaixa":"0","indActions":"SSNNN","indArrangedFeeData":"N","indNPLCom":"","indNPLGroup":"","indNPLOtherEnt":"","indTotalQuota":"N","litRiskOthers":"Depósito a futuro","optionProcess":"DF","ownArrangedPercentage":"0","percentageArrangedOthersEnt":"0","totalFeeCaixa":"0"},{"amountArragedCom":"0","amountArrangedGroup":"0","amountArrangedOtherEnt":"0","amountAvailableCom":"0","amountAvailableGroup":"0","amountAvailableOtherEnt":"0","amountNPLCom":"0","amountNPLGroup":"0","amountNPLOtherEnt":"0","arrangedFeeCaixa":"0","indActions":"SSNNN","indArrangedFeeData":"N","indNPLCom":"","indNPLGroup":"","indNPLOtherEnt":"","indTotalQuota":"N","litRiskOthers":"Renta fija","optionProcess":"RF","ownArrangedPercentage":"0","percentageArrangedOthersEnt":"0","totalFeeCaixa":"0"}]},"DirectRiskData":{"dataTableDirectRisk":[{"amountArrangedEntities":"0","amountArrangedGroup":"0","amountAvailableCom":"0","amountAvailableGroup":"0","amountNPLGroup":"0","amountNPLrateCom":"0","arrangedFeeCaixa":"0","indActions":"SSNNN","indAvailableQuota":"S","indTotalQuota":"S","litDirectRisk":"Comercial","NPLGroup":"","NPLothers":"","NPLrateCom":"","ownArrangedPercentage":"0","percentageArrangedEntities":"0","processOption":"CO","totalFee":"0"},{"amountArrangedEntities":"0","amountArrangedGroup":"3","amountAvailableCom":"1","amountAvailableGroup":"1","amountNPLGroup":"0","amountNPLrateCom":"0","arrangedFeeCaixa":"100","indActions":"SSNNN","indAvailableQuota":"S","indTotalQuota":"S","litDirectRisk":"Financiero","NPLGroup":"NO","NPLothers":"","NPLrateCom":"NO","ownArrangedPercentage":"96","percentageArrangedEntities":"0","processOption":"FI","totalFee":"100"},{"amountArrangedEntities":"0","amountArrangedGroup":"0","amountAvailableCom":"0","amountAvailableGroup":"0","amountNPLGroup":"0","amountNPLrateCom":"0","arrangedFeeCaixa":"0","indActions":"SSNNN","indAvailableQuota":"S","indTotalQuota":"S","litDirectRisk":"Leasing","NPLGroup":"","NPLothers":"","NPLrateCom":"","ownArrangedPercentage":"0","percentageArrangedEntities":"0","processOption":"LE","totalFee":"0"},{"amountArrangedEntities":"343","amountArrangedGroup":"0","amountAvailableCom":"0","amountAvailableGroup":"0","amountNPLGroup":"0","amountNPLrateCom":"0","arrangedFeeCaixa":"26","indActions":"SSNNN","indAvailableQuota":"S","indTotalQuota":"S","litDirectRisk":"Avales","NPLGroup":"","NPLothers":"NO","NPLrateCom":"NO","ownArrangedPercentage":"100","percentageArrangedEntities":"100","processOption":"AV","totalFee":"26"},{"amountArrangedEntities":"0","amountArrangedGroup":"0","amountAvailableCom":"0","amountAvailableGroup":"0","amountNPLGroup":"0","amountNPLrateCom":"0","arrangedFeeCaixa":"0","indActions":"SSNNN","indAvailableQuota":"S","indTotalQuota":"S","litDirectRisk":"Otros","NPLGroup":"","NPLothers":"","NPLrateCom":"","ownArrangedPercentage":"0","percentageArrangedEntities":"0","processOption":"OT","totalFee":"0"},{"amountArrangedEntities":"343","amountArrangedGroup":"3","amountAvailableCom":"1","amountAvailableGroup":"1","amountNPLGroup":"0","amountNPLrateCom":"0","arrangedFeeCaixa":"30","indActions":"SNNNN","indAvailableQuota":"S","indTotalQuota":"S","litDirectRisk":"Total directos","NPLGroup":"NO","NPLothers":"NO","NPLrateCom":"NO","ownArrangedPercentage":"99","percentageArrangedEntities":"100","processOption":"TO","totalFee":"31"},{"amountArrangedEntities":"0","amountArrangedGroup":"0","amountAvailableCom":"0","amountAvailableGroup":"0","amountNPLGroup":"0","amountNPLrateCom":"0","arrangedFeeCaixa":"0","indActions":"SSNNN","indAvailableQuota":"S","indTotalQuota":"S","litDirectRisk":"Garantía real","NPLGroup":"","NPLothers":"","NPLrateCom":"","ownArrangedPercentage":"0","percentageArrangedEntities":"0","processOption":"GR","totalFee":"0"},{"amountArrangedEntities":"0","amountArrangedGroup":"0","amountAvailableCom":"0","amountAvailableGroup":"0","amountNPLGroup":"0","amountNPLrateCom":"0","arrangedFeeCaixa":"0","indActions":"SSNNN","indAvailableQuota":"S","indTotalQuota":"S","litDirectRisk":"Colectivos","NPLGroup":"","NPLothers":"","NPLrateCom":"","ownArrangedPercentage":"0","percentageArrangedEntities":"0","processOption":"SC","totalFee":"0"},{"amountArrangedEntities":"0","amountArrangedGroup":"0","amountAvailableCom":"0","amountAvailableGroup":"0","amountNPLGroup":"0","amountNPLrateCom":"0","arrangedFeeCaixa":"0","indActions":"SSNNN","indAvailableQuota":"S","indTotalQuota":"S","litDirectRisk":"Divisas","NPLGroup":"","NPLothers":"","NPLrateCom":"","ownArrangedPercentage":"0","percentageArrangedEntities":"0","processOption":"DV","totalFee":"0"},{"amountArrangedEntities":"0","amountArrangedGroup":"0","amountAvailableCom":"0","amountAvailableGroup":"0","amountNPLGroup":"0","amountNPLrateCom":"0","arrangedFeeCaixa":"0","indActions":"NNNNN","indAvailableQuota":"S","indTotalQuota":"S","litDirectRisk":"Financiero real","NPLGroup":"","NPLothers":"","NPLrateCom":"","ownArrangedPercentage":"0","percentageArrangedEntities":"0","processOption":"FR","totalFee":"0"}],"indShowTable":"S","typeRisk":"riesgo directo"},"EvolutionDataCLI":{"EvolutionDataTableDirectRisk":[{"amountOwnDefaulter":"0","amountOwnDefaulterGroup":"0","amountOwnDefaulterOtherEnt":"-","arrangedOtherEnt":"-","arrangedOwnRisk":"181","arrangedOwnRiskGroup":"3","availableGroup":"1","availableOtherEnt":"-","availableOwnRisk":"0","declarationDate":"Junio 2023","requestData":202306},{"amountOwnDefaulter":"0","amountOwnDefaulterGroup":"0","amountOwnDefaulterOtherEnt":"0","arrangedOtherEnt":"343","arrangedOwnRisk":"151","arrangedOwnRiskGroup":"3","availableGroup":"4","availableOtherEnt":"0","availableOwnRisk":"0","declarationDate":"Mayo 2023","requestData":202305},{"amountOwnDefaulter":"0","amountOwnDefaulterGroup":"0","amountOwnDefaulterOtherEnt":"0","arrangedOtherEnt":"343","arrangedOwnRisk":"152","arrangedOwnRiskGroup":"2","availableGroup":"4","availableOtherEnt":"0","availableOwnRisk":"0","declarationDate":"Abril 2023","requestData":202304},{"amountOwnDefaulter":"0","amountOwnDefaulterGroup":"0","amountOwnDefaulterOtherEnt":"0","arrangedOtherEnt":"337","arrangedOwnRisk":"153","arrangedOwnRiskGroup":"2","availableGroup":"4","availableOtherEnt":"0","availableOwnRisk":"0","declarationDate":"Marzo 2023","requestData":202303},{"amountOwnDefaulter":"0","amountOwnDefaulterGroup":"0","amountOwnDefaulterOtherEnt":"0","arrangedOtherEnt":"311","arrangedOwnRisk":"156","arrangedOwnRiskGroup":"2","availableGroup":"4","availableOtherEnt":"0","availableOwnRisk":"0","declarationDate":"Febrero 2023","requestData":202302},{"amountOwnDefaulter":"0","amountOwnDefaulterGroup":"0","amountOwnDefaulterOtherEnt":"0","arrangedOtherEnt":"303","arrangedOwnRisk":"157","arrangedOwnRiskGroup":"4","availableGroup":"4","availableOtherEnt":"0","availableOwnRisk":"0","declarationDate":"Enero 2023","requestData":202301},{"amountOwnDefaulter":"0","amountOwnDefaulterGroup":"0","amountOwnDefaulterOtherEnt":"0","arrangedOtherEnt":"303","arrangedOwnRisk":"158","arrangedOwnRiskGroup":"0","availableGroup":"0","availableOtherEnt":"0","availableOwnRisk":"0","declarationDate":"Diciembre 2022","requestData":202212},{"amountOwnDefaulter":"0","amountOwnDefaulterGroup":"0","amountOwnDefaulterOtherEnt":"0","arrangedOtherEnt":"291","arrangedOwnRisk":"159","arrangedOwnRiskGroup":"0","availableGroup":"0","availableOtherEnt":"0","availableOwnRisk":"0","declarationDate":"Noviembre 2022","requestData":202211},{"amountOwnDefaulter":"0","amountOwnDefaulterGroup":"0","amountOwnDefaulterOtherEnt":"0","arrangedOtherEnt":"244","arrangedOwnRisk":"160","arrangedOwnRiskGroup":"0","availableGroup":"0","availableOtherEnt":"0","availableOwnRisk":"0","declarationDate":"Octubre 2022","requestData":202210},{"amountOwnDefaulter":"0","amountOwnDefaulterGroup":"0","amountOwnDefaulterOtherEnt":"0","arrangedOtherEnt":"213","arrangedOwnRisk":"163","arrangedOwnRiskGroup":"0","availableGroup":"0","availableOtherEnt":"0","availableOwnRisk":"0","declarationDate":"Septiembre 2022","requestData":202209},{"amountOwnDefaulter":"0","amountOwnDefaulterGroup":"0","amountOwnDefaulterOtherEnt":"0","arrangedOtherEnt":"196","arrangedOwnRisk":"164","arrangedOwnRiskGroup":"0","availableGroup":"0","availableOtherEnt":"0","availableOwnRisk":"0","declarationDate":"Agosto 2022","requestData":202208},{"amountOwnDefaulter":"0","amountOwnDefaulterGroup":"0","amountOwnDefaulterOtherEnt":"0","arrangedOtherEnt":"196","arrangedOwnRisk":"165","arrangedOwnRiskGroup":"0","availableGroup":"0","availableOtherEnt":"0","availableOwnRisk":"0","declarationDate":"Julio 2022","requestData":202207},{"amountOwnDefaulter":"0","amountOwnDefaulterGroup":"0","amountOwnDefaulterOtherEnt":"0","arrangedOtherEnt":"196","arrangedOwnRisk":"166","arrangedOwnRiskGroup":"0","availableGroup":"0","availableOtherEnt":"0","availableOwnRisk":"0","declarationDate":"Junio 2022","requestData":202206},{"amountOwnDefaulter":"0","amountOwnDefaulterGroup":"0","amountOwnDefaulterOtherEnt":"0","arrangedOtherEnt":"99","arrangedOwnRisk":"128","arrangedOwnRiskGroup":"0","availableGroup":"0","availableOtherEnt":"0","availableOwnRisk":"0","declarationDate":"Diciembre 2021","requestData":202112},{"amountOwnDefaulter":"0","amountOwnDefaulterGroup":"0","amountOwnDefaulterOtherEnt":"0","arrangedOtherEnt":"128","arrangedOwnRisk":"50","arrangedOwnRiskGroup":"0","availableGroup":"0","availableOtherEnt":"0","availableOwnRisk":"0","declarationDate":"Diciembre 2020","requestData":202012}],"EvolutionDataTableIndirectRisk":[],"indEvolutionAvailableData":"S","indIndirectRiskData":""},"executionDate":"0","executionOfi":0,"executionState":0,"GeneralData":{"CIRBEcode":"ESB91606277","customerIdType":"B91606277","customerInternalId":0,"dataHolderName":"GESER INGENIEROS CONSULTORES S.L.","dateDataRequest":"0","holderIdentifier":"ESB91606277","NoticeList":[],"organizationName":"Grupo CaixaBank","returnDate":"05-2023","statementDate":"06-2023"},"hourRequest":"0","IndirectRiskData":{"DataTableIndirectRisk":[{"amountArrangedIndirectRisk":"0","amountArrangedIndirectRiskGroup":"0","amountArrangedIndirectRiskOtherEnt":"0","amountAvailableIndirectRisk":"0","amountAvailableIndirectRiskOtherCom":"0","amountAvailableIndirectRiskOtherEnt":"0","amountNPLindirectRisk":"0","amountNPLIndirectRiskGroup":"","amountNPLIndirectRiskOtherEnt":"0","amountNPLndirectRiskOtherCom":"0","indActions":"SSNNN","indNPLIndirectRiskGroup":"","indTotalQuota":"S","litIndirectRisk":"Avalistas","NPLindIndirectRisk":"","processOption":"PA","totalFee":"0"},{"amountArrangedIndirectRisk":"0","amountArrangedIndirectRiskGroup":"0","amountArrangedIndirectRiskOtherEnt":"0","amountAvailableIndirectRisk":"0","amountAvailableIndirectRiskOtherCom":"0","amountAvailableIndirectRiskOtherEnt":"0","amountNPLindirectRisk":"0","amountNPLIndirectRiskGroup":"","amountNPLIndirectRiskOtherEnt":"0","amountNPLndirectRiskOtherCom":"0","indActions":"SSNNN","indNPLIndirectRiskGroup":"","indTotalQuota":"S","litIndirectRisk":"Aceptación efectos","NPLindIndirectRisk":"","processOption":"AE","totalFee":"0"},{"amountArrangedIndirectRisk":"0","amountArrangedIndirectRiskGroup":"0","amountArrangedIndirectRiskOtherEnt":"0","amountAvailableIndirectRisk":"0","amountAvailableIndirectRiskOtherCom":"0","amountAvailableIndirectRiskOtherEnt":"0","amountNPLindirectRisk":"0","amountNPLIndirectRiskGroup":"","amountNPLIndirectRiskOtherEnt":"0","amountNPLndirectRiskOtherCom":"0","indActions":"NNNNN","indNPLIndirectRiskGroup":"","indTotalQuota":"S","litIndirectRisk":"Total indirectos","NPLindIndirectRisk":"","processOption":"IN","totalFee":"0"}],"indShowTable":"S"},"indPerRequestExternRisk":"","indReqExternalRisk":"","reposit":""}';

	public static final String RESPONSE_CIRBE_KO = '{"noticeTextOut":"000029 - Persona no declarada a la CIRBE"}';
	
	public static final String RESPONSE_SIR = '{"isClientIndicator":true,"segmentationData":{"parentSegment":113,"childSegment":118,"segmentType":"Automatic-batch","assignmentDate":"2019-02-05"},"riskData":{"statusType":"Normal","risk":"36","defaultProbability":0.308972,"riskLevel":"","automaticLoss":40.21277,"referenceLoss":31.898069,"theoreticalMargin":0,"actualMargin":0,"volatilitySector":0,"manualLoss":31.898069,"isDefaultLoss":false,"sirReturnCode":"23","sirReturnCode2":"Valid","riskDescriptor":113007,"managementLevel":999,"regulationLevel":4,"economyLevel":4,"isOperatingSegmentIndicatorRC":true,"score":5.97,"ratingFinal":"BBB-","expiryDate":"2024-04-22","calculationDate":"2023-04-20"}}';

	public static final String RESPONSE_SIR_KO = '{"isClientIndicator":true,"segmentationData":{"parentSegment":113,"childSegment":118,"segmentType":"Automatic-batch","assignmentDate":"2019-02-05"},"riskData":{"statusType":"Normal","risk":"36","defaultProbability":"KO","riskLevel":"","automaticLoss":23.43,"referenceLoss":31.898069,"theoreticalMargin":0,"actualMargin":0,"volatilitySector":0,"manualLoss":31.898069,"isDefaultLoss":false,"sirReturnCode":"23","sirReturnCode2":"Valid","riskDescriptor":113007,"managementLevel":999,"regulationLevel":4,"economyLevel":4,"isOperatingSegmentIndicatorRC":true,"score":5.97,"ratingFinal":"BBB-","expiryDate":"2024-04-22","calculationDate":"2023-04-20"}}';
	
	public static final String RESPONSE_JSON_KO = '{"jsonKO":"falloJSON"}';
	public static final string RESPONSE_STATUSCODE_KO = '{"code":"50050","description":"code error"}';

	public static final string RESPONSE_RAR = '{"simulationId":37582,"applicationOrigin":"RAR","createdBy":"U0197513","createdDate":"2023-07-11T08:56:06.000+00:00","modifiedBy":"U0197513","modifiedDate":"2023-09-05T09:59:41.000+00:00","profitabilityDate":"2019-06-30","customerInternalId":14481333,"customerId":"A44119154","customerName":"Club Padilla Lazaro","customerPd":1.119941,"customerPdState":"N","customerSegment":113118,"customerLgd":35.5,"pd":2.119941,"segment":113118,"lgd":35.5,"group":{},"description":"CLUB PADILLA LAZARO - A44119154","state":"ACTIVE","agent":"U0197513","agentName":"U0197513","branchId":"09712","isRecalculate":false,"simulationProfitability":{"exposition":280800.8,"valueAdded":-2635.48,"capital":29238.16,"netProfitability":3730.73,"expectedLoss":1938.03,"margin":1750.24,"rar":5.98615,"costExtraIncome":266.41,"amount":0,"rar2":0},"customerProfitability":{"exposition":280800.8,"valueAdded":-2635.48,"capital":29238.16,"netProfitability":3730.73,"expectedLoss":1938.03,"margin":1750.24,"rar":5.98615,"costExtraIncome":266.41,"rar2":5.98615},"reportDate":"2023-09-01T00:00:00.000+00:00","impTicket":"0000-d3f4ebd8-d9fd-49a1-8ad1-3587592af763PDF","documentId":166555201,"expedientNumber":9998001345870,"customerHistoricProfitability":{"historicExposition":0,"historicValueAdded":0,"historicCapital":0,"historicNetProfitability":0,"historicExpectedLoss":0,"historicMargin":0,"historicRar":0,"historicCostExtraIncome":0},"groupHistoricProfitability":{"historicExposition":0,"historicValueAdded":0,"historicCapital":0,"historicNetProfitability":0,"historicExpectedLoss":0,"historicMargin":0,"historicRar":0,"historicCostExtraIncome":0},"portfolio":202,"hasDefaultLgd":false,"pdOrigin":"I","companyId":"00001","isFromOtherEntity":false,"pdRating":"P","riskAmount":0,"simulationOperationsProfitabilities":{"amount":3730.73,"exposition":280800.80000000005,"valueAdded":-2635.4800000000005,"capital":29238.160000000003,"netProfitability":3730.73,"expectedLoss":1938.0299999999997,"margin":1750.2399999999998,"rar":5.986149607225625,"costExtraIncome":266.40999999999997},"operations":[{"operationId":79923,"simulationId":37582,"operationNumber":9998030003864,"applicationOrigin":"RAR","productType":"AVM","productTypeName":"Avales","description":"Aval 1","createdBy":"U0197513","createdDate":"2023-07-11T07:12:51.000+00:00","modifiedBy":"U0197513","modifiedDate":"2023-09-05T09:59:40.000+00:00","hasInfrastructureFactor":false,"studyCommission":0,"openingCommission":0,"annualRiskCommission":0,"annualAvailabilityCommission":0,"useCommission":0,"state":"ACTIVE","profitability":{"exposition":100000,"valueAdded":-2101.05,"capital":8866.03,"netProfitability":-59.6,"expectedLoss":684.85,"margin":-771.15,"rar":-8.697757,"costExtraIncome":-162.78,"amount":-59.6,"costExtraIncomePercentage":-0.173,"otherCosts":422.47,"cprCalculedIdentifier":"230905115925140268850P837","averageCostCapitalPercentage":1.413,"averageCapitalAmountPercentage":0.249,"averageTotalCapitalPercentage":9.422,"averageOperationCostsPercentage":0.06,"averageOtherCostsPercentage":0.422,"averageExpectedLossPercentage":0.685,"averagePremiumPlusPercentage":0,"averageInterestTipusRatePercentage":0,"averageBalance":100000,"averageLife":1.5,"averageOperationCostsAmount":59.6,"costCapitalAmount":1413.36},"amountPeriod":{"awardedAmount":100000,"period":36,"periodTypeCode":"2","expectedUse":0,"hasCapitalByDeliveries":false,"hasCompromisedLimit":false},"interest":{"differential":0,"premiumPlus":0,"hasWithoutFloorIndicator":false},"billing":{"firstPayment":0},"bankGuaranteeData":{"purposeCode":"77","purposeName":"Financiero"},"Guarantees":[{"guaranteeId":198378,"operationId":79923,"isMainGuarantee":false,"guaranteeType":388,"guaranteeName":"Trenes","amount":5000,"modifiedBy":"U0197513","modifiedDate":"2023-09-05T09:59:40.000+00:00","isNotAdmissible":false},{"guaranteeId":198379,"operationId":79923,"isMainGuarantee":false,"guaranteeType":130,"guaranteeName":"Inversión renta variable","amount":12321,"modifiedBy":"U0197513","modifiedDate":"2023-09-05T09:59:40.000+00:00","isNotAdmissible":true},{"guaranteeId":198380,"operationId":79923,"isMainGuarantee":false,"guaranteeType":382,"guaranteeName":"Buques y aeronaves","amount":10000,"stateCode":"04","modifiedBy":"U0197513","modifiedDate":"2023-09-05T09:59:40.000+00:00","isNotAdmissible":false},{"guaranteeId":198381,"operationId":79923,"isMainGuarantee":true,"guaranteeType":1,"guaranteeName":"Personal","amount":0,"modifiedBy":"U0197513","modifiedDate":"2023-09-05T09:59:40.000+00:00","isNotAdmissible":false},{"guaranteeId":198382,"operationId":79923,"isMainGuarantee":false,"guaranteeType":17,"guaranteeName":"Ahorro","amount":4000,"modifiedBy":"U0197513","modifiedDate":"2023-09-05T09:59:40.000+00:00","isNotAdmissible":false},{"guaranteeId":198383,"operationId":79923,"isMainGuarantee":false,"guaranteeType":143,"guaranteeName":"Hipotecaria","amount":100000,"stateCode":"23","modifiedBy":"U0197513","modifiedDate":"2023-09-05T09:59:40.000+00:00","isNotAdmissible":false}],"Participants":[{"participantId":234552,"operationId":79923,"participantType":"OWNER","isPrincipal":true,"customerInternalId":14481333,"customerId":"A44119154","name":"Club Padilla Lazaro","pd":2.119941,"pdState":"N","segment":113118,"lgd":35.5,"participantLgd":35.5,"participantPd":1.119941,"participantSegment":113118,"hasDefaultLgd":false,"pdOrigin":"I","pdRating":"P","order":1,"cprLgd":35.5,"cprPd":2.119941,"cprSegment":113118}]},{"operationId":79926,"simulationId":37582,"operationNumber":9998020004980,"applicationOrigin":"SIA","productType":"CCR","productTypeName":"Cuentas de crédito","description":"CCR 1","createdBy":"U0197513","createdDate":"2023-07-11T09:22:52.000+00:00","modifiedBy":"U0197513","modifiedDate":"2023-09-04T11:39:26.000+00:00","adheredAgreement":"1","hasInfrastructureFactor":true,"studyCommission":0,"openingCommission":0,"annualRiskCommission":0,"annualAvailabilityCommission":0,"useCommission":6.6,"state":"ACTIVE","request":9998020004980,"contract":9998020004980,"profitability":{"exposition":86733.2,"valueAdded":1760.11,"capital":9624.2,"netProfitability":4075.17,"expectedLoss":545.25,"margin":3203.74,"rar":33.288412,"costExtraIncome":239.19,"amount":4075.17,"costExtraIncomePercentage":0.348,"otherCosts":14.94,"cprCalculedIdentifier":"230904113924150009850P837","averageCostCapitalPercentage":2.101,"availableCostCapitalPercentage":0.97,"arrangedCostCapitalPercentage":1.601,"averageCapitalAmountPercentage":0.371,"availableCapitalAmountPercentage":0.97,"arrangedCapitalAmountPercentage":0.283,"averageTotalCapitalPercentage":14.006,"availableTotalCapitalPercentage":6.466,"arrangedTotalCapitalPercentage":10.675,"averageOperationCostsPercentage":0.045,"availableOperationCostsPercentage":0,"arrangedOperationCostsPercentage":0.045,"averageOtherCostsPercentage":0.023,"availableOtherCostsPercentage":0.266,"arrangedOtherCostsPercentage":0.438,"averageExpectedLossPercentage":0.826,"availableExpectedLossPercentage":0.383,"arrangedExpectedLossPercentage":0.629,"averagePremiumPlusPercentage":0.39,"availablePremiumPlusPercentage":0.02,"arrangedPremiumPlusPercentage":0.38,"averageInterestTipusRatePercentage":0,"availableInterestTipusRatePercentage":0,"averageBalance":66000,"averageLife":4.6666,"averageOperationCostsAmount":29.83,"costCapitalAmount":1386.56},"amountPeriod":{"awardedAmount":100000,"period":56,"periodTypeCode":"2","expectedUse":66,"hasCapitalByDeliveries":false,"hasCompromisedLimit":false},"interest":{"differential":0.01,"premiumPlus":0,"ccyCode":102,"hasWithoutFloorIndicator":false,"referenceIndex":"5001","referenceIndexName":"Variable divisa no euro","ccyName":"Libra esterlina"},"billing":{"firstPayment":0},"bankGuaranteeData":{},"Guarantees":[{"guaranteeId":197898,"operationId":79926,"isMainGuarantee":true,"guaranteeType":1,"guaranteeName":"Personal","amount":0,"modifiedBy":"U0197513","modifiedDate":"2023-07-11T09:22:52.000+00:00","isNotAdmissible":false}],"Participants":[{"participantId":233952,"operationId":79926,"participantType":"OWNER","isPrincipal":true,"customerInternalId":14481333,"customerId":"A44119154","name":"Club Padilla Lazaro","pd":2.119941,"pdState":"N","segment":113118,"lgd":35.5,"participantLgd":35.5,"participantPd":1.119941,"participantSegment":113118,"hasDefaultLgd":false,"pdOrigin":"I","pdRating":"P","order":1,"cprLgd":33,"cprPd":1.905,"cprSegment":142119,"remittanceNominalComission":0,"remittanceMediumTerm":0,"financingPercentage":0,"handlingCommissionAmount":0},{"participantId":233953,"operationId":79926,"participantType":"OWNER","isPrincipal":false,"customerInternalId":214622301,"customerId":"T62959048","name":"Empresa","pd":1.905,"pdState":"D","segment":142119,"participantPd":0.905,"participantSegment":142119,"hasDefaultLgd":true,"pdOrigin":"D","pdRating":"P","order":2,"cprLgd":35.5,"cprPd":2.119941,"cprSegment":113118,"remittanceNominalComission":0,"remittanceMediumTerm":0,"financingPercentage":0,"handlingCommissionAmount":0}]},{"operationId":80382,"simulationId":37582,"operationNumber":9998010004646,"applicationOrigin":"RAR","productType":"PRS","productTypeName":"Préstamos","description":"Prestamo Periodo Carencia","createdBy":"U0197513","createdDate":"2023-09-04T09:33:21.000+00:00","modifiedBy":"U0197513","modifiedDate":"2023-09-04T11:39:26.000+00:00","hasInfrastructureFactor":false,"studyCommission":0,"openingCommission":0,"annualRiskCommission":0,"annualAvailabilityCommission":0,"useCommission":0,"state":"ACTIVE","internationalRequestNumber":"001-567890123456789012","internationalContractNumber":"002-567890123456789012","profitability":{"exposition":94067.6,"valueAdded":-2294.54,"capital":10747.93,"netProfitability":-284.84,"expectedLoss":707.93,"margin":-682.35,"rar":-6.348685,"costExtraIncome":190,"amount":-284.84,"costExtraIncomePercentage":0.214,"otherCosts":100.11,"cprCalculedIdentifier":"230904113919308955850P837","averageCostCapitalPercentage":1.815,"averageCapitalAmountPercentage":0.32,"averageTotalCapitalPercentage":12.099,"averageOperationCostsPercentage":0.045,"averageOtherCostsPercentage":0.106,"averageExpectedLossPercentage":0.753,"averagePremiumPlusPercentage":0.268,"averageInterestTipusRatePercentage":0,"averageBalance":94067.6,"averageLife":2.4583,"averageOperationCostsAmount":41.95,"costCapitalAmount":1707.19},"amountPeriod":{"awardedAmount":100000,"period":56,"periodTypeCode":"2","expectedUse":0,"hasCapitalByDeliveries":false,"hasCompromisedLimit":false},"interest":{"differential":0.01,"premiumPlus":0,"hasWithoutFloorIndicator":true,"referenceIndex":"1275","referenceIndexName":"Euribor 1 mes"},"billing":{"paymentPeriodicityCode":"4","settlementCode":"61","firstPayment":0},"bankGuaranteeData":{},"Guarantees":[{"guaranteeId":198377,"operationId":80382,"isMainGuarantee":true,"guaranteeType":1,"guaranteeName":"Personal","amount":0,"modifiedBy":"U0197513","modifiedDate":"2023-09-04T09:33:55.000+00:00","isNotAdmissible":false}],"Participants":[{"participantId":234551,"operationId":80382,"participantType":"OWNER","isPrincipal":true,"customerInternalId":14481333,"customerId":"A44119154","name":"Club Padilla Lazaro","pd":2.119941,"pdState":"N","segment":113118,"lgd":35.5,"participantLgd":35.5,"participantPd":1.119941,"participantSegment":113118,"hasDefaultLgd":false,"pdOrigin":"I","pdRating":"P","order":1,"cprLgd":35.5,"cprPd":2.119941,"cprSegment":113118}]}],"priceNote":{"commissions":14,"identification":{"director":"Corne","analyst":"Alonsu","noteDate":"2023-07-13","presentationDate":"2023-07-17"},"comment":{"postGroupRAR":"Comentarios RAR grupo Post","operationsPriceJustification":"Comentarios sobre la justificación precio operaciones","comparisonOfPreviousPrices":"Comentarios sobre la comparación precios anteriores","unionizationsOpinion":"Comentarios sobre la opinión sindicaciones","recommendation":"Recomendación","priceEvolution":"Breve descripción de la evolución cotización acciones, bonos y CDS (Comments on stock market evolution)","operationOrProjectDescription":"En PF y financiación a largo plazo: Breve descripción de la operación/proyecto (PF and long-term financing)","groupOrBusinessPlanDescription":"Para clientes nuevos: Breve descripción del grupo y plan de negocio (For new clients: brief description of the Group and Business Plan)"},"audit":{"createdBy":"U0197513","createdDate":"2023-07-13T10:26:50.000+00:00","modifiedBy":"U0197513","modifiedDate":"2023-07-13T11:13:31.000+00:00"},"adjustment":{"ratingChange":"Prova","portfolioChange":"CLIENTE: Club Padilla Lazaro, Cartera utilizada: 202, Cartera Interna: Prova","others":"Para clientes nuevos: Breve descripción del grupo y plan de negocio (For new clients: brief description of the Group and Business Plan)"},"simulationId":37582}}';
	public static final string RESPONSE_RAR_GRUPO = '{"groupSimulationId":3335,"audit":{"createdBy":"U0197513","createdDate":"2023-07-11T09:38:42.000+00:00","modifiedBy":"U0197513","modifiedDate":"2023-09-04T11:39:28.000+00:00"},"companyId":"00001","profitabilityDate":"2019-06-30","customerInternalId":214623527,"customerId":"T83874966","name":"Empresa","description":"NPSG - Corne","state":"ACTIVE","agent":"U0197513","agentName":"U0197513","branchId":"09712","expedientNumber":9998001345873,"groupSimulationProfitability":{"exposition":287800.8,"valueAdded":-117.69,"capital":30970.98,"netProfitability":7072.38,"expectedLoss":2007.67,"margin":4527.96,"rar":14.620009,"costExtraIncome":262.3,"rar2":14.620009},"groupHistoricProfitability":{"historicExposition":0,"historicValueAdded":0,"historicCapital":0,"historicNetProfitability":0,"historicExpectedLoss":0,"historicMargin":0,"historicRar":0,"historicCostExtraIncome":0},"postGroupSimulationProfitability":{"exposition":287800.8,"valueAdded":-117.69,"capital":30970.98,"netProfitability":7072.38,"expectedLoss":2007.67,"margin":4527.96,"rar":14.62,"costExtraIncome":262.3,"groupPostRar":14.62},"groupSimulationOperationsProfitabilities":{"amount":7072.38,"exposition":287800.80000000005,"valueAdded":-117.6899999999996,"capital":30970.98,"netProfitability":7072.38,"expectedLoss":2007.6699999999998,"margin":4527.96,"rar":14.620008795330339,"costExtraIncome":262.3},"simulations":[{"simulationId":37582,"applicationOrigin":"RAR","createdBy":"U0197513","createdDate":"2023-07-11T08:56:06.000+00:00","modifiedBy":"U0197513","modifiedDate":"2023-09-04T11:39:27.000+00:00","profitabilityDate":"2019-06-30","customerInternalId":14481333,"customerId":"A44119154","customerName":"Club Padilla Lazaro","customerPd":1.119941,"customerPdState":"N","customerSegment":113118,"customerLgd":35.5,"pd":2.119941,"segment":113118,"lgd":35.5,"group":{},"description":"CLUB PADILLA LAZARO - A44119154","state":"ACTIVE","agent":"U0197513","agentName":"U0197513","branchId":"09712","isRecalculate":false,"simulationProfitability":{"exposition":280800.8,"valueAdded":-2837.07,"capital":30107.38,"netProfitability":3730.73,"expectedLoss":2005.76,"margin":1679.04,"rar":5.576839,"costExtraIncome":250.36,"amount":0,"rar2":0},"customerProfitability":{"exposition":280800.8,"valueAdded":-2837.07,"capital":30107.38,"netProfitability":3730.73,"expectedLoss":2005.76,"margin":1679.04,"rar":5.576839,"costExtraIncome":250.36,"rar2":5.576839},"reportDate":"2023-09-01T00:00:00.000+00:00","impTicket":"0000-d3f4ebd8-d9fd-49a1-8ad1-3587592af763PDF","documentId":166555201,"expedientNumber":9998001345870,"customerHistoricProfitability":{"historicExposition":0,"historicValueAdded":0,"historicCapital":0,"historicNetProfitability":0,"historicExpectedLoss":0,"historicMargin":0,"historicRar":0,"historicCostExtraIncome":0},"groupHistoricProfitability":{"historicExposition":0,"historicValueAdded":0,"historicCapital":0,"historicNetProfitability":0,"historicExpectedLoss":0,"historicMargin":0,"historicRar":0,"historicCostExtraIncome":0},"portfolio":202,"hasDefaultLgd":false,"pdOrigin":"I","companyId":"00001","isFromOtherEntity":false,"pdRating":"P","riskAmount":0,"operations":[{"operationId":79923,"simulationId":37582,"operationNumber":9998030003864,"applicationOrigin":"RAR","productType":"AVM","productTypeName":"Avales","description":"Aval 1","createdBy":"U0197513","createdDate":"2023-07-11T07:12:51.000+00:00","modifiedBy":"U0197513","modifiedDate":"2023-09-04T11:39:26.000+00:00","hasInfrastructureFactor":false,"studyCommission":0,"openingCommission":0,"annualRiskCommission":0,"annualAvailabilityCommission":0,"useCommission":0,"state":"ACTIVE","profitability":{"exposition":100000,"valueAdded":-2302.64,"capital":9735.25,"netProfitability":-59.6,"expectedLoss":752.58,"margin":-842.35,"rar":-8.652623,"costExtraIncome":-178.83,"amount":-59.6,"costExtraIncomePercentage":-0.19,"otherCosts":463.92,"cprCalculedIdentifier":"230904113914790504850P837","averageCostCapitalPercentage":1.552,"averageCapitalAmountPercentage":0.274,"averageTotalCapitalPercentage":10.345,"averageOperationCostsPercentage":0.06,"averageOtherCostsPercentage":0.464,"averageExpectedLossPercentage":0.753,"averagePremiumPlusPercentage":0,"averageInterestTipusRatePercentage":0,"averageBalance":100000,"averageLife":1.5,"averageOperationCostsAmount":59.6,"costCapitalAmount":1551.75},"amountPeriod":{"awardedAmount":100000,"period":36,"periodTypeCode":"2","expectedUse":0,"hasCapitalByDeliveries":false,"hasCompromisedLimit":false},"interest":{"differential":0,"premiumPlus":0,"hasWithoutFloorIndicator":false},"billing":{"firstPayment":0},"bankGuaranteeData":{"purposeCode":"77","purposeName":"Financiero"},"Guarantees":[{"guaranteeId":197897,"operationId":79923,"isMainGuarantee":true,"guaranteeType":1,"guaranteeName":"Personal","amount":0,"modifiedBy":"U0197513","modifiedDate":"2023-07-11T07:12:51.000+00:00","isNotAdmissible":false}],"Participants":[{"participantId":233951,"operationId":79923,"participantType":"OWNER","isPrincipal":true,"customerInternalId":14481333,"customerId":"A44119154","name":"Club Padilla Lazaro","pd":2.119941,"pdState":"N","segment":113118,"lgd":35.5,"participantLgd":35.5,"participantPd":1.119941,"participantSegment":113118,"hasDefaultLgd":false,"pdOrigin":"I","pdRating":"P","order":1,"cprLgd":35.5,"cprPd":2.119941,"cprSegment":113118}]},{"operationId":79926,"simulationId":37582,"operationNumber":9998020004980,"applicationOrigin":"RAR","productType":"CCR","productTypeName":"Cuentas de crédito","description":"CCR 1","createdBy":"U0197513","createdDate":"2023-07-11T09:22:52.000+00:00","modifiedBy":"U0197513","modifiedDate":"2023-09-04T11:39:26.000+00:00","adheredAgreement":"1","hasInfrastructureFactor":true,"studyCommission":0,"openingCommission":0,"annualRiskCommission":0,"annualAvailabilityCommission":0,"useCommission":6.6,"state":"ACTIVE","profitability":{"exposition":86733.2,"valueAdded":1760.11,"capital":9624.2,"netProfitability":4075.17,"expectedLoss":545.25,"margin":3203.74,"rar":33.288412,"costExtraIncome":239.19,"amount":4075.17,"costExtraIncomePercentage":0.348,"otherCosts":14.94,"cprCalculedIdentifier":"230904113924150009850P837","averageCostCapitalPercentage":2.101,"availableCostCapitalPercentage":0.97,"arrangedCostCapitalPercentage":1.601,"averageCapitalAmountPercentage":0.371,"availableCapitalAmountPercentage":0.97,"arrangedCapitalAmountPercentage":0.283,"averageTotalCapitalPercentage":14.006,"availableTotalCapitalPercentage":6.466,"arrangedTotalCapitalPercentage":10.675,"averageOperationCostsPercentage":0.045,"availableOperationCostsPercentage":0,"arrangedOperationCostsPercentage":0.045,"averageOtherCostsPercentage":0.023,"availableOtherCostsPercentage":0.266,"arrangedOtherCostsPercentage":0.438,"averageExpectedLossPercentage":0.826,"availableExpectedLossPercentage":0.383,"arrangedExpectedLossPercentage":0.629,"averagePremiumPlusPercentage":0.39,"availablePremiumPlusPercentage":0.02,"arrangedPremiumPlusPercentage":0.38,"averageInterestTipusRatePercentage":0,"availableInterestTipusRatePercentage":0,"averageBalance":66000,"averageLife":4.6666,"averageOperationCostsAmount":29.83,"costCapitalAmount":1386.56},"amountPeriod":{"awardedAmount":100000,"period":56,"periodTypeCode":"2","expectedUse":66,"hasCapitalByDeliveries":false,"hasCompromisedLimit":false},"interest":{"differential":0.01,"premiumPlus":0,"ccyCode":102,"hasWithoutFloorIndicator":false,"referenceIndex":"5001","referenceIndexName":"Variable divisa no euro","ccyName":"Libra esterlina"},"billing":{"firstPayment":0},"bankGuaranteeData":{},"Guarantees":[{"guaranteeId":197898,"operationId":79926,"isMainGuarantee":true,"guaranteeType":1,"guaranteeName":"Personal","amount":0,"modifiedBy":"U0197513","modifiedDate":"2023-07-11T09:22:52.000+00:00","isNotAdmissible":false}],"Participants":[{"participantId":233952,"operationId":79926,"participantType":"OWNER","isPrincipal":true,"customerInternalId":14481333,"customerId":"A44119154","name":"Club Padilla Lazaro","pd":2.119941,"pdState":"N","segment":113118,"lgd":35.5,"participantLgd":35.5,"participantPd":1.119941,"participantSegment":113118,"hasDefaultLgd":false,"pdOrigin":"I","pdRating":"P","order":1,"cprLgd":33,"cprPd":1.905,"cprSegment":142119,"remittanceNominalComission":0,"remittanceMediumTerm":0,"financingPercentage":0,"handlingCommissionAmount":0},{"participantId":233953,"operationId":79926,"participantType":"OWNER","isPrincipal":false,"customerInternalId":214622301,"customerId":"T62959048","name":"Empresa","pd":1.905,"pdState":"D","segment":142119,"participantPd":0.905,"participantSegment":142119,"hasDefaultLgd":true,"pdOrigin":"D","pdRating":"P","order":2,"cprLgd":35.5,"cprPd":2.119941,"cprSegment":113118,"remittanceNominalComission":0,"remittanceMediumTerm":0,"financingPercentage":0,"handlingCommissionAmount":0}]},{"operationId":80382,"simulationId":37582,"operationNumber":9998010004646,"applicationOrigin":"RAR","productType":"PRS","productTypeName":"Préstamos","description":"Prestamo Periodo Carencia","createdBy":"U0197513","createdDate":"2023-09-04T09:33:21.000+00:00","modifiedBy":"U0197513","modifiedDate":"2023-09-04T11:39:26.000+00:00","hasInfrastructureFactor":false,"studyCommission":0,"openingCommission":0,"annualRiskCommission":0,"annualAvailabilityCommission":0,"useCommission":0,"state":"ACTIVE","profitability":{"exposition":94067.6,"valueAdded":-2294.54,"capital":10747.93,"netProfitability":-284.84,"expectedLoss":707.93,"margin":-682.35,"rar":-6.348685,"costExtraIncome":190,"amount":-284.84,"costExtraIncomePercentage":0.214,"otherCosts":100.11,"cprCalculedIdentifier":"230904113919308955850P837","averageCostCapitalPercentage":1.815,"averageCapitalAmountPercentage":0.32,"averageTotalCapitalPercentage":12.099,"averageOperationCostsPercentage":0.045,"averageOtherCostsPercentage":0.106,"averageExpectedLossPercentage":0.753,"averagePremiumPlusPercentage":0.268,"averageInterestTipusRatePercentage":0,"averageBalance":94067.6,"averageLife":2.4583,"averageOperationCostsAmount":41.95,"costCapitalAmount":1707.19},"amountPeriod":{"awardedAmount":100000,"period":56,"periodTypeCode":"2","expectedUse":0,"hasCapitalByDeliveries":false,"hasCompromisedLimit":false},"interest":{"differential":0.01,"premiumPlus":0,"hasWithoutFloorIndicator":true,"referenceIndex":"1275","referenceIndexName":"Euribor 1 mes"},"billing":{"paymentPeriodicityCode":"4","settlementCode":"61","firstPayment":0},"bankGuaranteeData":{},"Guarantees":[{"guaranteeId":198377,"operationId":80382,"isMainGuarantee":true,"guaranteeType":1,"guaranteeName":"Personal","amount":0,"modifiedBy":"U0197513","modifiedDate":"2023-09-04T09:33:55.000+00:00","isNotAdmissible":false}],"Participants":[{"participantId":234551,"operationId":80382,"participantType":"OWNER","isPrincipal":true,"customerInternalId":14481333,"customerId":"A44119154","name":"Club Padilla Lazaro","pd":2.119941,"pdState":"N","segment":113118,"lgd":35.5,"participantLgd":35.5,"participantPd":1.119941,"participantSegment":113118,"hasDefaultLgd":false,"pdOrigin":"I","pdRating":"P","order":1,"cprLgd":35.5,"cprPd":2.119941,"cprSegment":113118}]}],"priceNote":{"commissions":14,"identification":{"director":"Corne","analyst":"Alonsu","noteDate":"2023-07-13","presentationDate":"2023-07-17"},"comment":{"postGroupRAR":"Comentarios RAR grupo Post","operationsPriceJustification":"Comentarios sobre la justificación precio operaciones","comparisonOfPreviousPrices":"Comentarios sobre la comparación precios anteriores","unionizationsOpinion":"Comentarios sobre la opinión sindicaciones","recommendation":"Recomendación","priceEvolution":"Breve descripción de la evolución cotización acciones, bonos y CDS (Comments on stock market evolution)","operationOrProjectDescription":"En PF y financiación a largo plazo: Breve descripción de la operación/proyecto (PF and long-term financing)","groupOrBusinessPlanDescription":"Para clientes nuevos: Breve descripción del grupo y plan de negocio (For new clients: brief description of the Group and Business Plan)"},"audit":{"createdBy":"U0197513","createdDate":"2023-07-13T10:26:50.000+00:00","modifiedBy":"U0197513","modifiedDate":"2023-07-13T11:13:31.000+00:00"},"adjustment":{"ratingChange":"Prova","portfolioChange":"CLIENTE: Club Padilla Lazaro, Cartera utilizada: 202, Cartera Interna: Prova","others":"Para clientes nuevos: Breve descripción del grupo y plan de negocio (For new clients: brief description of the Group and Business Plan)"},"simulationId":37582}},{"simulationId":37583,"applicationOrigin":"RAR","createdBy":"U0197513","createdDate":"2023-07-11T09:24:34.000+00:00","modifiedBy":"U0197513","modifiedDate":"2023-07-12T13:51:15.000+00:00","profitabilityDate":"2019-06-30","customerInternalId":48829269,"customerId":"T51219S38","customerName":"Control Empresarial de Capitales, S.A. de C.v.","customerPd":0.169686,"customerPdState":"N","customerSegment":113128,"customerLgd":16.105973,"rating":"2.9","pd":0.169686,"segment":113128,"lgd":16.105973,"group":{},"description":"CONTROL EMPRESARIAL DE CAPITALES - T51219S38","state":"ACTIVE","agent":"U0197513","agentName":"U0197513","branchId":"09712","isRecalculate":false,"simulationProfitability":{"exposition":7000,"valueAdded":2719.38,"capital":863.6,"netProfitability":3341.65,"expectedLoss":1.91,"margin":2848.92,"rar":99.99,"costExtraIncome":11.94,"amount":0,"rar2":0},"customerProfitability":{"exposition":700007000,"valueAdded":-3049330.06,"capital":45173532.1,"netProfitability":2666885.88,"expectedLoss":764401.91,"margin":1072637.57,"rar":2.374482,"costExtraIncome":-640557.57,"rar2":2.374482},"expedientNumber":9998001345872,"customerHistoricProfitability":{"historicExposition":700000000,"historicValueAdded":-3052049.44,"historicCapital":45172668.5,"historicNetProfitability":2663544.23,"historicExpectedLoss":764400,"historicMargin":1069788.65,"historicRar":2.37,"historicCostExtraIncome":-640569.51},"groupHistoricProfitability":{"historicExposition":0,"historicValueAdded":0,"historicCapital":0,"historicNetProfitability":0,"historicExpectedLoss":0,"historicMargin":0,"historicRar":0,"historicCostExtraIncome":0},"customerPortfolio":231,"portfolio":202,"hasDefaultLgd":false,"pdOrigin":"I","companyId":"00001","isFromOtherEntity":false,"pdRating":"P","riskAmount":1719536421.5,"operations":[{"operationId":79938,"simulationId":37583,"operationNumber":9998290002667,"applicationOrigin":"RAR","productType":"FAG","productTypeName":"Factoring","description":"FAG 1","createdBy":"U0197513","createdDate":"2023-07-12T08:51:33.000+00:00","modifiedBy":"U0197513","modifiedDate":"2023-07-12T13:51:15.000+00:00","hasInfrastructureFactor":false,"studyCommission":0,"openingCommission":0,"annualRiskCommission":0,"annualAvailabilityCommission":0,"useCommission":0,"state":"ACTIVE","profitability":{"exposition":7000,"valueAdded":2719.38,"capital":863.6,"netProfitability":3341.65,"expectedLoss":1.91,"margin":2848.92,"rar":99.99,"costExtraIncome":11.94,"amount":3341.65,"costExtraIncomePercentage":0.03,"otherCosts":1.82,"cprCalculedIdentifier":"230712155112225537850P837","averageCostCapitalPercentage":0.319,"averageCapitalAmountPercentage":0.056,"averageTotalCapitalPercentage":2.124,"averageOperationCostsPercentage":0.072,"averageOtherCostsPercentage":0.026,"averageExpectedLossPercentage":0.027,"averagePremiumPlusPercentage":0.13,"averageInterestTipusRatePercentage":3.089,"averageBalance":7000,"averageLife":3,"averageOperationCostsAmount":5.05,"costCapitalAmount":22.3},"amountPeriod":{"awardedAmount":10000,"period":36,"periodTypeCode":"2","expectedUse":0,"hasCapitalByDeliveries":false,"hasCompromisedLimit":false},"interest":{"differential":1,"premiumPlus":0,"hasWithoutFloorIndicator":false,"referenceIndex":"0","referenceIndexName":"Tipo fijo"},"billing":{"firstPayment":0},"bankGuaranteeData":{},"factoringData":{"type":"C","modality":"F","studyCommissionAmount":0},"Guarantees":[{"guaranteeId":197955,"operationId":79938,"isMainGuarantee":true,"guaranteeType":1,"guaranteeName":"Personal","amount":0,"modifiedBy":"U0197513","modifiedDate":"2023-07-12T13:51:15.000+00:00","isNotAdmissible":false}],"Participants":[{"participantId":234081,"operationId":79938,"participantType":"GUARANTOR","isPrincipal":false,"customerInternalId":214756683,"customerId":"A51004166","name":"Empresa Alumbrado Electrico Deceuta Distribucion","pd":0,"pdState":"D","segment":142118,"lgd":12,"participantPd":0.905,"participantSegment":142119,"hasDefaultLgd":true,"pdOrigin":"D","pdRating":"P","order":1,"cprLgd":15,"cprPd":0.905,"cprSegment":142118},{"participantId":234082,"operationId":79938,"participantType":"DEBTOR","isPrincipal":false,"customerId":"43455832T","name":"Deudor 1","pd":0.0185,"pdState":"D","segment":105108,"participantPd":0.905,"participantSegment":142119,"limit":3000,"coverage":3,"hasDefaultLgd":false,"pdOrigin":"D","pdRating":"R","spRating":"AAA","order":1,"remittanceNominalComission":0.2,"remittanceMediumTerm":40,"financingPercentage":0.3,"handlingCommissionAmount":1000},{"participantId":234083,"operationId":79938,"participantType":"DEBTOR","isPrincipal":false,"customerInternalId":220210875,"customerId":"B82522327","name":"Empresa","pd":1.905,"pdState":"D","segment":142119,"participantPd":0.905,"participantSegment":142119,"limit":5000,"coverage":5,"hasDefaultLgd":true,"pdOrigin":"D","pdRating":"P","order":2,"remittanceNominalComission":6,"remittanceMediumTerm":80,"financingPercentage":7,"handlingCommissionAmount":500},{"participantId":234084,"operationId":79938,"participantType":"OWNER","isPrincipal":true,"customerInternalId":48829269,"customerId":"T51219S38","name":"Control Empresarial de Capitales, S.A. de C.v.","pd":0.169686,"pdState":"N","segment":113128,"lgd":16.105973,"participantLgd":16.105973,"participantPd":0.169686,"participantSegment":113128,"hasDefaultLgd":false,"pdOrigin":"I","order":1,"cprLgd":16.105973,"cprPd":0.169686,"cprSegment":113128}]}],"priceNote":{"identification":{"noteDate":"2023-07-13"},"comment":{},"audit":{"createdBy":"U0197513","createdDate":"2023-07-13T10:26:50.000+00:00","modifiedBy":"U0197513","modifiedDate":"2023-07-13T10:35:13.000+00:00"},"adjustment":{"ratingChange":"Factoring - 9998290002667, AVALISTA: Empresa Alumbrado Electrico Deceuta Distribucion, Rating utilizado: 0,000000 %, Rating interno: 0,905000 % Factoring - 9998290002667, DEUDOR: Empresa, Rating utilizado: 1,905000 %, Rating interno: 0,905000 %","segmentChange":"Factoring - 9998290002667, AVALISTA: Empresa Alumbrado Electrico Deceuta Distribucion, Segmento utilizado: 142 - 118, Segmento interno: 142 - 119","portfolioChange":"CLIENTE: Control Empresarial de Capitales, S.A. de C.v., Cartera utilizada: 202, Cartera Interna: 231"},"simulationId":37583}}],"priceNote":{"identification":{"noteDate":"2023-07-13"},"comment":{"postGroupRAR":"Comentarios RAR grupo PostComentarios RAR grupo PostComentarios RAR grupo PostComentarios RAR grupo PostComentarios RAR grupo PostComentarios RAR grupo PostComentarios RAR grupo PostComentarios RAR grupo PostComentarios RAR grupo PostComentarios RAR grupo PostComentarios RAR grupo PostComentarios RAR grupo PostComentarios RAR grupo PostComentarios RAR grupo PostComentarios RAR grupo PostComentarios RAR grupo PostComentarios RAR grupo PostComentarios RAR grupo PostComentarios RAR grupo PostComentarios RAR grupo PostComentarios RAR grupo PostComentarios RAR grupo PostComentarios RAR grupo PostComentarios RAR grupo PostComentarios RAR grupo PostComentarios RAR grupo PostComentarios RAR grupo PostComentarios RAR grupo PostComentarios RAR grupo PostComentarios RAR grupo PostComentarios RAR grupo PostComentarios RAR grupo PostComentarios RAR grupo PostComentarios RAR grupo PostComentarios RAR grupo PostComentarios RAR grupo PostComentarios RAR grupo PostComentarios RAR grupo PostComentarios RAR grupo PostComentarios RAR grupo PostComentarios RAR grupo PostComentarios RAR grupo PostComentarios RAR grupo PostComentarios RAR grupo PostComentarios RAR grupo PostComentarios RAR grupo PostComentarios RAR grupo PostComentarios RAR grupo PostComentarios RAR grupo PostComentarios RAR grupo PostComentarios RAR grupo PostComentarios RAR grupo PostComentarios RAR grupo PostComentarios RAR grupo PostComentarios RAR grupo PostComentarios RAR grupo PostComentarios RAR grupo PostComentarios RAR grupo PostComentarios RAR grupo PostComentarios RAR grupo PostComentarios RAR grupo PostComentarios RAR grupo PostComentarios RAR grupo PostComentarios RAR grupo PostComentarios RAR grupo PostComentarios RAR grupo PostComentarios RAR grupo PostComentarios RAR grupo PostComentarios RAR grupo PostComentarios RAR grupo PostComentarios RAR grupo PostComentarios RAR grupo PostComentarios RAR grupo PostComegrupo PostComentarios RAR grupo PostComentarios RAR grupo PostComentarios RAR grupo Post 123111111","operationsPriceJustification":"Comentarios sobre la justificación precio operaciones","comparisonOfPreviousPrices":"Comentarios sobre la comparación precios anteriores","unionizationsOpinion":"Comentarios sobre la opinión sindicaciones","recommendation":"Recomendación (Recommendation)","priceEvolution":"Breve descripción de la evolución cotización acciones, bonos y CDS (Comments on stock market evolution)","operationOrProjectDescription":"En PF y financiación a largo plazo: Breve descripción de la operación/proyecto (PF and long-term financing)","groupOrBusinessPlanDescription":"Para clientes nuevos: Breve descripción del grupo y plan de negocio (For new clients: brief description of the Group and"},"audit":{"createdBy":"U0197513","createdDate":"2023-07-13T10:26:50.000+00:00","modifiedBy":"U0197513","modifiedDate":"2023-07-13T10:35:12.000+00:00"},"adjustment":{"others":"Ajustes realizados / hipótesis asumidas"},"groupSimulationId":3335}}';
	public static final string RESPONSE_RAR_KO = '{"detail":"No existe la simulación cliente con ID=123.456","stackTrace":[],"type":"contributionModels/simulation-client-not-found","title":"No existe la entidad solicitada","status":404}';

	public static final String RESPONSE_ERROR_DIVISAS = '{"mensaje": "Error","tipo": "Error de Divisas"}';	
	
    public HTTPResponse respond(HTTPRequest request) {
		// Create a fake response
		SYSTEM.DEBUG('option ' + option);
		SYSTEM.DEBUG('status ' + status);
		HttpResponse response = new HttpResponse();
		response.setHeader('Content-Type', 'application/json');
		if(option == 'EXTENDED' && status == 'OK'){
			response.setBody(RESPONSE_EXTENDED);
            response.setStatusCode(200); 
		}
		if(option == 'EXTENDED_EMPTY_BALANCE' && status == 'OK'){
			response.setBody(RESPONSE_EXTENDED_EMPTY_BALANCE);
            response.setStatusCode(200); 
		}
		if(option == 'DIVISAS' && status == 'OK'){
			response.setBody(RESPONSE_DIVISAS);
            response.setStatusCode(200); 
		}
		if(option == 'RIESGO' && status == 'OK'){
			string body = '';
			system.debug('RIESGO ' + request);
			if(request.getEndpoint() == 'grouped') {
				//ponemos el setbody dentro para forzar error de callout en las test
				response.setBody(RESPONSE_PRODUCTS_GROUPED);
			} else {
				response.setBody(RESPONSE_PRODUCTS_DETAIL);
			}
			response.setStatusCode(200); 
		}

		if(option == 'RESPONSE_CIRBE' && status == 'OK'){
			response.setBody(RESPONSE_CIRBE);
			response.setStatusCode(200); 
		}

		if(option == 'RIESGO' && status == 'KO'){
		
			response.setBody(RESPONSE_STATUSCODE_KO);
			response.setStatusCode(404);
		}

		if(option == 'HTTP' && status == 'KO'){
			
			request.getEndpoint().contains('error');
		}

		if(option == 'JSON' && status == 'KO'){
			
			response.setStatusCode(200);
			response.setBody(RESPONSE_JSON_KO);
		}
        
		if(status == 'KO DIVISAS'){
			response.setBody(RESPONSE_ERROR_DIVISAS);
			response.setStatusCode(500); 
		}

		if(option == 'SIR') {
			if(status == 'OK') {
				response.setBody(RESPONSE_SIR );
				response.setStatusCode(200);
			} else if(status == 'JsonOK'){
				response.setBody(RESPONSE_SIR_KO );
				response.setStatusCode(200);
			} else {
				response = standardKO();
			}
		}

		if(option == 'CIRBE') {
			if(status == 'OK') {
				response.setBody(RESPONSE_CIRBE );
				response.setStatusCode(200);
			} else if(status == 'JsonKO'){
				response.setBody(RESPONSE_CIRBE_KO );
				response.setStatusCode(200);
			} else {
				response = standardKO();
			}
		}

		if(option == 'RAR') {
			if(status == 'OK'){
				response.setBody(RESPONSE_RAR );
				response.setStatusCode(200);
			} else {
				response.setBody(RESPONSE_RAR_KO );
				response.setStatusCode(404);
			}
		}

		if(option == 'RARGrupo') {
			if(status == 'OK'){
				response.setBody(RESPONSE_RAR_GRUPO );
				response.setStatusCode(200);
			}
		}

		//standardKO
		/*if(status == 'KO') {
			response.setBody(RESPONSE_STATUSCODE_KO);
			response.setStatusCode(500);
		}*/
		return response; 
	}

	public static HTTPResponse standardKO() {
		HttpResponse response = new HttpResponse();
		response.setBody(RESPONSE_STATUSCODE_KO);
		response.setStatusCode(500);
		return response;
	}

	public static Map<String, Object> deserializeJSON(String jsonString) {
		return (Map<String, Object>) JSON.deserializeUntyped(jsonString);
	}

}