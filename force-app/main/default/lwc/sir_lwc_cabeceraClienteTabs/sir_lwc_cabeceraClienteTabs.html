<template>
    <lightning-card  variant="Narrow" title="Perfil Cliente" icon-name="standard:note">
        <lightning-tabset active-tab-value="">
            <lightning-tab label={tabPRESOL} title={tabPRESOL} value="PRESOL">                
                <table class="slds-table slds-table_header-hidden slds-table_bordered"> 
                    <template if:true={vacioPRESOL}>
                        <div class="alignCentro"><lightning-formatted-text value={mensaje}></lightning-formatted-text></div>
                    </template> 
                    <template if:false={vacioPRESOL}>
                        <template for:each={wrapperPRESOL} for:item="keyValue">
                            <!-- Fila 1 -->
                            <tr key={keyValue.Id}>
                                <td>
                                    <span class="slds-form-element__label slds-cell-wrap">Estrategia PRESOL</span>
                                </td>
                                <td>
                                    <span class="slds-form-element__label slds-form-element__static slds-grow alignIzquierda slds-cell-wrap">{keyValue.estrategiaPRESOL}</span>
                                </td>
                                <td>
                                    <span class="slds-form-element__label slds-cell-wrap">Rating Scoring</span>
                                </td>
                                <td>
                                    <span class="slds-form-element__label slds-form-element__static slds-grow alignDerecha">{keyValue.rating}</span>
                                </td>                                
                                <!--<td>
                                    <span class="slds-form-element__label">Deuda Total</span>
                                </td>
                                <td>
                                    <span class="slds-form-element__static slds-grow alignDerecha">{keyValue.deudaTotalPRESOL}</span>
                                </td>-->
                                <td>
                                    <span class="slds-form-element__label slds-cell-wrap">Fecha VTO carencia CBP</span>
                                </td>
                                <td>
                                    <span class="slds-form-element__label slds-form-element__static slds-grow alignDerecha">
                                        <lightning-formatted-date-time value={keyValue.vtoCBP} year="numeric" month="2-digit" day="2-digit" ></lightning-formatted-date-time>
                                    </span>
                                </td>                                
                            </tr>
                            <!-- Fila 2 -->
                            <tr key={keyValue.Id}>
                                <td>
                                    <span class="slds-form-element__label slds-cell-wrap">Tipo Persona</span>
                                </td>
                                <td>
                                    <span class="slds-form-element__label slds-form-element__static slds-grow alignIzquierda slds-cell-wrap">{keyValue.personaPRESOL}</span>
                                </td>
                                <td>
                                    <span class="slds-form-element__label slds-cell-wrap">Saldo pasivo disponible medio 12m</span>
                                </td>
                                <td>
                                    <span class="slds-form-element__label slds-form-element__static slds-grow alignDerecha">{keyValue.saldoPasivoPRESOL}</span>
                                </td>
                                <!--<td>
                                    <span class="slds-form-element__label">Deuda Pendiente de vencer</span>
                                </td>
                                <td>
                                    <span class="slds-form-element__static slds-grow alignDerecha">{keyValue.deudaPendienteVencerPRESOL}</span>
                                </td>-->
                                <td>
                                    <span class="slds-form-element__label slds-cell-wrap">Fecha Vencimiento ICO</span>
                                </td>
                                <td>
                                    <span class="slds-form-element__label slds-form-element__static slds-grow alignDerecha">
                                        <lightning-formatted-date-time value={keyValue.vtoICO} year="numeric" month="2-digit" day="2-digit" ></lightning-formatted-date-time>
                                    </span>
                                </td>                                
                            </tr>
                            <!-- Fila 3 -->
                            <tr key={keyValue.Id}>
                                <td>
                                    <span class="slds-form-element__label slds-cell-wrap">Segmento PRESOL</span>
                                </td>
                                <td>
                                    <span class="slds-form-element__label slds-form-element__static slds-grow alignIzquierda slds-cell-wrap">{keyValue.segmentoPRESOL}</span>
                                </td>
                                <td>
                                    <span class="slds-form-element__label slds-cell-wrap">Saldo activo</span>
                                </td>
                                <td>
                                    <span class="slds-form-element__label slds-form-element__static slds-grow alignDerecha">{keyValue.saldoActivo}</span>
                                </td> 
                                <!--<td>
                                    <span class="slds-form-element__label">Deuda vencida</span>
                                </td>
                                <td>
                                    <span class="slds-form-element__static slds-grow alignDerecha">{keyValue.deudaVencidaPRESOL}</span>
                                </td>-->
                                <td>
                                    <span class="slds-form-element__label slds-cell-wrap">Fecha VTO carencia</span>
                                </td>
                                <td>                                    
                                    <span class="slds-form-element__label slds-form-element__static slds-grow alignDerecha">
                                        <lightning-formatted-date-time value={keyValue.vtoCarencia} year="numeric" month="2-digit" day="2-digit" ></lightning-formatted-date-time>
                                    </span>
                                </td>                                
                            </tr>
                            <!-- Fila 4 -->
                            <tr key={keyValue.Id}>
                                <td>
                                    <span class="slds-form-element__label slds-cell-wrap">Prioridad PRESOL</span>
                                </td>
                                <td>
                                    <span class="slds-form-element__label slds-form-element__static slds-grow alignIzquierda slds-cell-wrap">{keyValue.prioridadPRESOL}</span>
                                </td>
                                <td>
                                    <span class="slds-form-element__label slds-cell-wrap">Saldo dispuesto</span>
                                </td>
                                <td>
                                    <span class="slds-form-element__label slds-form-element__static slds-grow alignDerecha">{keyValue.saldoDispuestoPRESOL}</span>
                                </td> 
                                <td>
                                    <span class="slds-form-element__label slds-cell-wrap">Fecha VTO CCR</span>
                                </td>
                                <td>
                                    <span class="slds-form-element__label slds-form-element__static slds-grow alignDerecha">
                                        <lightning-formatted-date-time value={keyValue.vtoCCR} year="numeric" month="2-digit" day="2-digit" ></lightning-formatted-date-time>
                                    </span>                                    
                                </td> 
                            </tr>
                            <!-- Fila 5 -->
                            <tr key={keyValue.Id}>
                                <td>
                                    <span class="slds-form-element__label slds-cell-wrap">Motivo Inclusión</span>
                                </td>
                                <td>
                                    <span class="slds-form-element__label slds-form-element__static slds-grow alignIzquierda slds-cell-wrap">{keyValue.motivoInclusion}</span>
                                </td>
                                <td>
                                    <span class="slds-form-element__label slds-cell-wrap">Circulante</span>
                                </td>
                                <td>
                                    <span class="slds-form-element__label slds-form-element__static slds-grow alignDerecha">{keyValue.circulante}</span>
                                </td> 
                                <td>
                                    <span class="slds-form-element__label slds-cell-wrap">Aviso Centralizado</span>
                                </td>
                                <td>
                                    <span class="slds-form-element__label slds-form-element__static slds-grow alignDerecha">{keyValue.aviso}</span>
                                </td> 
                            </tr>
                            <!-- Fila 6 -->
                            <tr key={keyValue.Id}>
                                <td>
                                    <span class="slds-form-element__label slds-cell-wrap">Ind Envío meses ant</span>
                                </td>
                                <td>
                                    <span class="slds-form-element__label slds-form-element__static slds-grow alignIzquierda slds-cell-wrap">{keyValue.indEnvio}</span>
                                </td>
                                <td>
                                    <span class="slds-form-element__label slds-cell-wrap">Nº Ciclos Impago (últ 12 meses)</span>
                                </td>
                                <td>
                                    <span class="slds-form-element__label slds-form-element__static slds-grow alignDerecha">{keyValue.numeroCiclosPRESOL}</span>
                                </td>
                                <td>
                                    <span class="slds-form-element__label slds-cell-wrap">Tenencia ICO</span>
                                </td>
                                <td>
                                    <span class="slds-form-element__label slds-form-element__static slds-grow alignDerecha">{keyValue.tenenciaICO}</span>
                                </td>  
                            </tr>
                            <!-- Fila 7 -->
                            <tr key={keyValue.Id}>
                                <td>
                                    <span class="slds-form-element__label slds-cell-wrap">Res Gestión meses ant</span>
                                </td>
                                <td>
                                    <span class="slds-form-element__label slds-form-element__static slds-grow alignIzquierda slds-cell-wrap">{keyValue.resGestion}</span>
                                </td>
                                <td>
                                    <span class="slds-form-element__label slds-cell-wrap">Nº Ciclos Impago Total</span>
                                </td>
                                <td>
                                    <span class="slds-form-element__label slds-form-element__static slds-grow alignDerecha">{keyValue.numeroCiclosTotalPRESOL}</span>
                                </td>
                                <td>
                                    <!--<span class="slds-form-element__label slds-cell-wrap">Alerta PRESOL</span>-->
                                    <span class="slds-form-element__label slds-cell-wrap">Información Adicional</span>
                                </td>
                                <td style="max-width: 200px;">
                                    <!-- <span class="slds-form-element__static slds-grow alignDerecha">{keyValue.alertaPRESOL}</span>-->
                                    <span class="slds-form-element__label slds-form-element__static slds-grow alignIzquierda slds-cell-wrap" >{keyValue.alertaPRESOL}</span>
                                </td>
                            </tr> 
                            <tr key={keyValue.Id}>
                                <td>
                                    <span class="slds-form-element__label slds-cell-wrap"></span>
                                </td>
                                <td>
                                    <span class="slds-form-element__label slds-form-element__static slds-grow alignDerecha"></span>
                                </td>
                                <td>
                                    <span class="slds-form-element__label slds-cell-wrap">Fecha cura</span>
                                </td>
                                <td>                                    
                                    <span class="slds-form-element__label slds-form-element__static slds-grow alignDerecha">
                                        <lightning-formatted-date-time value={keyValue.fechaProximaCura} year="numeric" month="2-digit" day="2-digit" ></lightning-formatted-date-time>
                                    </span> 
                               </td>
                            </tr>  
                            <tr key={keyValue.Id}>
                                <td>
                                    <span class="slds-form-element__label slds-cell-wrap">Cliente en Probation Period</span>
                                </td>
                                <td>
                                    <span class="slds-form-element__label slds-form-element__static slds-grow alignIzquierda">{keyValue.indicadorPP}</span>
                                </td>


                                <td>
                                    <span class="slds-form-element__label slds-cell-wrap">Importe en PP </span>
                                </td>
                                <td>
                                    <span class="slds-form-element__label slds-form-element__static slds-grow alignDerecha">{keyValue.importePP}</span>
                                </td>
                                <td>
                                    <span class="slds-form-element__label slds-cell-wrap">Fecha estimada salida PP </span>
                                </td>
                                <td>
                                    <span class="slds-form-element__label slds-form-element__static slds-grow alignDerecha">
                                        <lightning-formatted-date-time value={keyValue.fechaEstimadaSalidaPP} year="numeric" month="2-digit" day="2-digit" ></lightning-formatted-date-time>
                                    </span>
                                </td>
                            </tr>  
                        </template>
                    </template>
                </table>
            </lightning-tab>

            <lightning-tab label={tabIMPA} title={tabIMPA} value="IMPA">
                <table class="slds-table slds-table_cell-buffer slds-table_header-hidden slds-table_bordered">
                    <template if:true={vacioIMPA}>
                        <div class="alignCentro"><lightning-formatted-text value={mensaje}></lightning-formatted-text></div>
                    </template>
                    <template if:false={vacioIMPA}>
                        <template for:each={wrapperIMPA} for:item="keyValue">
                            <tr key={keyValue.Id}>
                               <td>
                                   <span class="slds-form-element__label">Tipo Persona</span>
                               </td>
                               <td>
                                    <span class="slds-form-element__label slds-form-element__static slds-grow alignIzquierda slds-cell-wrap">{keyValue.persona}</span>
                               </td>
                               <td>
                                    <span class="slds-form-element__label">Saldo Pasivo</span>
                               </td>
                               <td>
                                    <span class="slds-form-element__label slds-form-element__static slds-grow alignDerecha ">{keyValue.saldoPasivo}</span>
                               </td>
                               <td>
                                    <span class="slds-form-element__label">Deuda</span>
                               </td>
                               <td>
                                    <span class="slds-form-element__label slds-form-element__static slds-grow alignDerecha">{keyValue.deudaTotal}</span>
                               </td>
                           </tr>
                            <tr key={keyValue.Id}>
                               <td>
                                   <span class="slds-form-element__label">Segmento SIREC</span>
                               </td>
                               <td>
                                    <span class="slds-form-element__label slds-form-element__static slds-grow alignIzquierda slds-cell-wrap">{keyValue.segmento}</span>
                               </td>
                               <td>
                                    <span class="slds-form-element__label">Ingresos Total</span>
                               </td>
                               <td>
                                    <span class="slds-form-element__label slds-form-element__static slds-grow alignDerecha">{keyValue.ingresosTotal}</span>
                               </td>
                               <td>
                                    <span class="slds-form-element__label">Pendiente de Vencer</span>
                               </td>
                               <td>
                                    <span class="slds-form-element__label slds-form-element__static slds-grow alignDerecha">{keyValue.deudaPendienteVencer}</span>
                               </td>
                           </tr>
                            <tr key={keyValue.Id}>
                               <td>
                                   <span class="slds-form-element__label">Prioridad</span>
                               </td>
                               <td>
                                    <span class="slds-form-element__label slds-form-element__static slds-grow alignIzquierda">{keyValue.prioridad}</span>
                               </td>
                               <td>
                                    <span class="slds-form-element__label">Nómina</span>
                               </td>
                               <td>
                                    <span class="slds-form-element__label slds-form-element__static slds-grow alignDerecha">{keyValue.ingresosNomina}</span>
                               </td>
                               <td>
                                    <span class="slds-form-element__label">Vencida</span>
                               </td>
                               <td>
                                    <span class="slds-form-element__label slds-form-element__static slds-grow alignDerecha">{keyValue.deudaVencida}</span>
                               </td>
                            </tr> 
                            <tr key={keyValue.Id}>
                                <td>
                                   <span class="slds-form-element__label">Arquetipo</span>
                                </td>
                                <td>
                                    <span class="slds-form-element__label slds-form-element__static slds-grow alignIzquierda">{keyValue.arquetipo}</span>
                                </td>
                                <td>
                                    <span class="slds-form-element__label">Pensión</span>
                                </td>
                                <td>
                                    <span class="slds-form-element__label slds-form-element__static slds-grow alignDerecha">{keyValue.ingresosPension}</span>
                                </td>
                                <td>
                                    <span class="slds-form-element__label slds-cell-wrap">Deuda Refinanciada </span>
                                </td>
                                <td>
                                    <span class="slds-form-element__label slds-form-element__static slds-grow alignDerecha">{keyValue.deudaRefinanciada}</span>
                                </td>                               
                           </tr>
                            <tr key={keyValue.Id}>
                                <td>
                                   <span class="slds-form-element__label">Capacidad de Pago</span>
                                </td>
                                <td>
                                    <span class="slds-form-element__label slds-form-element__static slds-grow alignIzquierda">{keyValue.capacidadDePago}</span>
                                </td>
                                <td>
                                    <span class="slds-form-element__label">Paro</span>
                                </td>
                                <td>
                                    <span class="slds-form-element__label slds-form-element__static slds-grow alignDerecha">{keyValue.ingresosParo}</span>
                                </td>

                                <td>
                                    <span class="slds-form-element__label slds-cell-wrap">Días Impago Peor Contrato</span>
                                </td>
                                <td>
                                    <span class="slds-form-element__label slds-form-element__static slds-grow alignDerecha">{keyValue.diasImpagoPeor}</span>
                                </td>                               
                            </tr>
                            <tr key={keyValue.Id}>
                                <td>
                                   <span class="slds-form-element__label slds-cell-wrap">Propuesta Motor Solución</span>
                                </td>
                                <td>
                                    <span class="slds-form-element__label slds-form-element__static slds-grow alignIzquierda slds-cell-wrap">{keyValue.motorSolucion}</span>
                                </td>
                                <td>
                                    <span class="slds-form-element__label slds-cell-wrap">Cliente en Probation Period</span>
                                </td>
                                <td>
                                    <span class="slds-form-element__label slds-form-element__static slds-grow alignIzquierda">{keyValue.indicadorPP}</span>
                                </td>
                                <td>
                                    <span class="slds-form-element__label slds-cell-wrap">Nº Ciclos Impago (últ 12 meses)</span>
                                </td>
                                <td>
                                    <span class="slds-form-element__label slds-form-element__static slds-grow alignDerecha">{keyValue.numeroCliclos}</span>
                                </td>                               
                            </tr>                            
                            <tr key={keyValue.Id}>
                                <td>                                   
                                </td>
                                <td>                                   
                                </td>
                                <td>
                                    <span class="slds-form-element__label slds-cell-wrap">Importe en PP </span>
                                </td>
                                <td>
                                    <span class="slds-form-element__label slds-form-element__static slds-grow alignDerecha">{keyValue.importePP}</span>
                                </td>
                                <td>
                                    <span class="slds-form-element__label slds-cell-wrap">Nº Ciclos Impago Total</span>
                                </td>
                                <td>
                                    <span class="slds-form-element__label slds-form-element__static slds-grow alignDerecha">{keyValue.numeroCiclosTotal}</span>
                                </td>								
                            </tr>  
                        </template>
                    </template>  
                </table>
            </lightning-tab>  
            
            <lightning-tab label="Gestión Agencias Externas" title="Gestión Agencias Externas" value="AgenciasExternas">  
                <div style="padding-left: 10px;padding-right: 10px;">            
                    <c-sir_lwc_-View-Online-Agencias-Externas historico="false" record-id={recordId}></c-sir_lwc_-View-Online-Agencias-Externas>	
                </div>  
            </lightning-tab>

        </lightning-tabset>        
    </lightning-card>
</template>