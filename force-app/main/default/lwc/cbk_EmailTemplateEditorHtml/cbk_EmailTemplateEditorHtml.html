<template> <!--<template lwc:render-mode='light'>-->

	<!--Card-->
	<article class="slds-card">
		<!--Cabecera-->
		<div class="slds-card__header slds-grid">
			<header class="slds-media slds-media_center slds-has-flexi-truncate">
				<div class="slds-media__figure">
					<lightning-icon icon-name="standard:account" size="small"></lightning-icon>
				</div>
				<div class="slds-media__body">
					<h2 class="slds-card__header-title">
						<a href="#" class="slds-card__header-link slds-truncate" title="Accounts">
							<span>Accounts</span>
						</a>
					</h2>
				</div>
			</header>
		</div>
		<!--Cuerpo-->
		<div class="slds-card__body slds-card__body_inner">
			<div lwc:if={spinnerExportarPdf} align="center">
				<lightning-spinner size="large" variant="brand" style="position: absolute;" alternative-text="Cargando..."></lightning-spinner>
			</div>

			<div class="slds-grid slds-gutters_direct-xx-small" style="height: 100%;">
				<div class="divEdicion slds-col slds-size_3-of-5">
					<!-- TinyMCE -->
					<iframe lwc:if={rutasVisualforce.editor} class="iframeEditor slds-hide" src={rutasVisualforce.editor}></iframe>

					<span class="spanCargandoEditor slds-align_absolute-center slds-text-color_weak">
						<lightning-dynamic-icon type="ellie" alternative-text="Cargando editor.." class="slds-var-m-right_small slds-is-relative" style="top: 1px;"></lightning-dynamic-icon>
						Cargando editor...
					</span>
				</div>

				<div class="slds-col slds-size_2-of-5 slds-is-relative">
					<div lwc:if={spinnerGenerarVistaPrevia} align="center">
						<lightning-spinner size="large" variant="brand" style="position: absolute;" alternative-text="Cargando..."></lightning-spinner>
					</div>
					<div class="divVistaPrevia slds-align_absolute-center">
						<template lwc:if={rutasVisualforce.vistaPrevia}>
							<iframe src={rutasVisualforce.vistaPrevia}></iframe>
							<span class="spanPrevisualizacionDesactualizada slds-is-absolute slds-var-p-vertical_small slds-var-p-horizontal_large">
								<lightning-icon icon-name="utility:info_alt" size="xx-small" class="slds-var-m-right_small"></lightning-icon>
								<span>Vista previa desactualizada</span>
							</span>
						</template>
						<c-seg_-Illustration lwc:else tipo="Desert" mensaje="Edita el documento y genera una vista previa."></c-seg_-Illustration>
					</div>
				</div>
			</div>
		</div>
		<!--Pie-->
		<footer class="slds-card__footer" style="text-align: right;">
			<div class="slds-grid slds-grid_align-spread">
				<div class="slds-col">
					<lightning-button class="botonCerrarModal" label="Cancelar" icon-name="utility:close" onclick={cerrarModal}></lightning-button>
				</div>
				<div class="slds-col">
					<lightning-button class="botonVistaPrevia slds-var-m-left_small" label="Vista previa" icon-name="utility:preview" onclick={botonVistaPreviaOnclick} disabled></lightning-button>
					<lightning-button class="botonGenerarPdf slds-var-m-left_small" label="Exportar PDF" variant="brand" icon-name="utility:pdf_ext" onclick={exportarPdf} disabled></lightning-button>
				</div>
			</div>
		</footer>
	</article>

</template>