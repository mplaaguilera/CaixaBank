<template>
    <ul class="slds-chat-list">
        <template for:each={CognitiveChat.data} for:item="msg">
            <li key={msg.id} class="slds-chat-listitem slds-chat-listitem_bookend">
                <div class="slds-chat-bookend">
                    <span class="slds-icon_container slds-icon-utility-chat slds-chat-icon">
                        <lightning-icon icon-name="utility:chat" alternative-text="Connected" size="x-small"></lightning-icon>
                    </span>
                    <p>{msg.inicio}<b>{msg.inicio2}</b></p>
                </div>
            </li>
            
            <li key={msg.id}> 
            <template for:each={msg.mensajes} for:item="item">
                <template if:true={item.cliente}>
                    <div class="slds-chat-listitem slds-chat-listitem_inbound" key={item.id}>
                        <div class="slds-chat-message">
                            <!-- <span aria-hidden="true" class="slds-avatar slds-avatar_circle slds-chat-avatar">
                                <abbr class="slds-avatar__initials slds-avatar__initials_inverse" title="Cliente">Cliente</abbr>
                            </span>-->
                            <div class="slds-chat-message__body">
                                <div class="slds-chat-message__text slds-chat-message__text_inbound">
                                    <span><lightning-formatted-rich-text value={item.texto}></lightning-formatted-rich-text></span>
                                </div>
                                <div class="slds-chat-message__meta" aria-label="nombre-hora">{item.nombre} • {item.hora}</div>
                            </div>
                        </div>
                    </div>                    
                </template>
                <template if:false={item.cliente}>
                    <div class="slds-chat-listitem slds-chat-listitem_outbound" key={item.id}>
                        <div class="slds-chat-message">
                            <div class="slds-chat-message__body">
                                <div class="slds-chat-message__text slds-chat-message__text_outbound-agent">
                                    <span><lightning-formatted-rich-text value={item.texto}></lightning-formatted-rich-text></span>
                                </div>
                                <div class="slds-chat-message__meta" aria-label="nombre-hora">{item.nombre} • {item.hora}</div>
                            </div>
                            <!--<span aria-hidden="true" class="slds-avatar slds-avatar_circle slds-chat-avatar">
                                <abbr class="slds-avatar__initials slds-avatar__initials_inverse" title="ChatBot">ChatBot</abbr>
                            </span>-->
                        </div>
                    </div>                   
                </template>
            </template>

            </li>
    
                
            <li key={msg.id} class="slds-chat-listitem slds-chat-listitem_bookend">
                <div class="slds-chat-bookend slds-chat-bookend_stop">
                    <span class="slds-icon_container slds-icon-utility-end_chat slds-chat-icon">
                        <lightning-icon icon-name="utility:end_chat" alternative-text="Connected" size="x-small"></lightning-icon>
                    </span>
                    <p>{msg.fin}<b>{msg.fin2}</b></p>
                </div>
            </li>
        </template>
    </ul>
</template>