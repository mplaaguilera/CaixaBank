<template>
    <template lwc:if={cargando}>
        <template lwc:if={mostrarSeccionConsultaReclamacion}>
            <div class="backgroundInverse">
                <lightning-spinner alternative-text="Loading" size="large"></lightning-spinner>
            </div>
        </template>
    </template>
    <template lwc:else>
        <template lwc:if={estadoEnviado}>
            <!-- <div class="slds-illustration slds-illustration_large" aria-hidden="true">
                <img src="/img/chatter/Desert.svg" class="slds-illustration__svg" alt=""/>
                <div class="slds-text-color_weak">
                    <h3 class="slds-text-heading_medium">No hay datos propuestos por la IA</h3>
                </div>
            </div> -->
            <div class="slds-illustration slds-illustration_large" aria-hidden="true">
                <img src="/projRes/ui-home-private/emptyStates/noEvents.svg" class="slds-illustration__svg" alt=""/>
                <div class="slds-text-color_weak">
                    <h3 class="slds-text-heading_medium">Datos enviados a IA</h3>
                    <h3 class="slds-text-heading_medium">Todavia no hay datos propuestos por la IA</h3>
                </div>
            </div>
        </template>
        <template lwc:elseif={estadoErrorEnvío}>
            <!-- <div class="slds-illustration slds-illustration_large" aria-hidden="true">
                <img src="/img/globalnav/NoNavItems.svg" class="slds-illustration__svg" alt=""/>
                <div class="slds-text-color_weak">
                    <h3 class="slds-text-heading_medium">Ha habido un error en la comunicacion con la IA</h3>
                </div>
            </div> -->
            <div class="slds-illustration slds-illustration_large" aria-hidden="true">
                <img src="/img/chatter/Desert.svg" class="slds-illustration__svg" alt=""/>
                <div class="slds-text-color_weak">
                    <h3 class="slds-text-heading_medium">No hay datos propuestos por la IA</h3>
                </div>
            </div>
        </template>
        <template lwc:elseif={estadoRespondido}>
            <template lwc:if={idGenialValido}>
                <template lwc:if={mostrarSeccionConsultaReclamacion}>
                    <div class="slds-notify slds-notify_alert slds-alert_warning" role="alert">
                        <span class="slds-assistive-text">warning</span>
                        <span class="slds-icon_container slds-icon-utility-warning slds-m-right_x-small" title="Description of icon when needed">
                        <lightning-icon icon-name="utility:warning" alternative-text="Warning!" title="Warning"></lightning-icon>
                        </span>
                        <h2>{label.mensajeIAResponsable}</h2>
                    </div>
                    <!-- <div class="slds-text-align_center">
                        <h1 class="slds-text-heading_small" style="color:blue">
                            <p>El contenido de esta pantalla ha sido generado con Inteligencia Artificial.</p>
                            <p>Debes comprobar que el contenido propuesto es correcto y corresponde con lo indicado por el reclamante en el caso y las pretensiones.</p>
                        </h1>
                    </div>                     -->
                    <!-- Inicio Reclamante -->
                        <div class={toggleIconReclamante}>
                            <h1 class="slds-section__title">
                            <button aria-controls="expando-unique-id-reclamante" aria-expanded="true" class="slds-button slds-section__title-action" onclick={handleExpandableReclamante}>
                                <svg class="slds-section__title-action-icon slds-button__icon slds-button__icon_left" aria-hidden="true">
                                <use xlink:href="/_slds/icons/utility-sprite/svg/symbols.svg#switch"></use>
                                </svg>
                                <span class="slds-truncate" title="Section Title"> Datos del Reclamante</span>
                            </button>
                            </h1>
                        <div class="slds-section__content" id="expando-unique-id-reclamante">
                                <lightning-record-view-form
                                    record-id={idResultadoGenial}
                                    object-api-name="SAC_Genial_Resultado__c"
                                >
                                    <!-- el boton solo lo mostramos en caso de que aún no tenga un reclamante principal asociado -->
                                    <template if:true={mostrarBoton}>
                                        <lightning-button label="Asignar Reclamante/s" title="Asignar Reclamante/s sugeridos por IA a la reclamación" onclick={asignarReclamantes} class="slds-m-right_x-small"></lightning-button>
                                    </template>
                                    <div class="slds-grid slds-gutters slds-m-bottom_medium slds-wrap"> 
                                        <div class="slds-col slds-size_5-of-12">
                                            <lightning-output-field field-name="SAC_AccountId__c"> </lightning-output-field>
                                        </div>
                                        <div class="slds-col slds-size_1-of-12">
                                            <template lwc:if={iconosCampos.SAC_AccountId__c}>
                                                <lightning-icon icon-name={iconosCampos.SAC_AccountId__c} alternative-text="IconAccountId" size="xx-small" title="IconAccountId"></lightning-icon>
                                            </template>
                                        </div>
                                        <!-- <div class="slds-col slds-size_5-of-12">
                                            <lightning-output-field field-name="SAC_UsarDatos__c"> </lightning-output-field>
                                        </div>
                                        <div class="slds-col slds-size_1-of-12">
                                            <template lwc:if={iconosCampos.SAC_UsarDatos__c}> 
                                                <lightning-icon icon-name={iconosCampos.SAC_UsarDatos__c} alternative-text="IconUsarDatos" size="xx-small" title="IconUsarDatos"></lightning-icon>
                                            </template>
                                        </div> -->
                                        <div class="slds-col slds-size_5-of-12">
                                            <lightning-output-field field-name="SAC_Telefono_Contacto__c"> </lightning-output-field>
                                        </div>
                                        <div class="slds-col slds-size_1-of-12">
                                            <template lwc:if={iconosCampos.Informativo}>
                                                <lightning-icon icon-name={iconosCampos.Informativo} alternative-text="Teléfono" size="xx-small" title="IconAccountNif"></lightning-icon>
                                            </template>
                                        </div>
                                        <template if:true={settingsCanal.data.SAC_BotonReclamante__c}>
                                            <div class="slds-col slds-size_5-of-12">
                                                <lightning-output-field field-name="SAC_SuppliedNIF__c"> </lightning-output-field>
                                            </div> 
                                            <div class="slds-col slds-size_1-of-12">
                                                <template lwc:if={iconosCampos.SAC_SuppliedNIF__c}>
                                                    <lightning-icon icon-name={iconosCampos.SAC_SuppliedNIF__c} alternative-text="IconAccountNif" size="xx-small" title="IconAccountNif"></lightning-icon>
                                                </template>
                                            </div>
                                            <div class="slds-col slds-size_5-of-12">
                                                <lightning-output-field field-name="SAC_UmbralNIF__c"> </lightning-output-field>
                                            </div>
                                            <div class="slds-col slds-size_1-of-12">
                                                <lightning-icon icon-name={iconoInformativo} alternative-text="Umbral NIF" size="xx-small" title="Umbral NIF"></lightning-icon>
                                            </div>
                                        </template>
                                        <div class="slds-col slds-size_5-of-12">
                                            <lightning-output-field field-name="SAC_NombreContacto__c"> </lightning-output-field>
                                        </div>
                                        <div class="slds-col slds-size_1-of-12">
                                            <template lwc:if={iconosCampos.Informativo}>
                                                <lightning-icon icon-name={iconosCampos.Informativo} alternative-text="Nombre" size="xx-small" title="IconAccountNif"></lightning-icon>
                                            </template>
                                        </div>
                                        <div class="slds-col slds-size_5-of-12">
                                            <lightning-output-field field-name="SAC_UmbralNombre__c"> </lightning-output-field>
                                        </div>
                                        <div class="slds-col slds-size_1-of-12">
                                            <lightning-icon icon-name={iconoInformativo} alternative-text="Umbral Nombre" size="xx-small" title="Umbral Nombre"></lightning-icon>
                                        </div>
                                        <div class="slds-col slds-size_6-of-12">
                                        </br>
                                        </div>
                                        <div class="slds-col slds-size_5-of-12">
                                            <lightning-output-field field-name="SAC_UmbralApellido__c"> </lightning-output-field>
                                        </div>
                                        <div class="slds-col slds-size_1-of-12">
                                            <lightning-icon icon-name={iconoInformativo} alternative-text="Umbral Apellido" size="xx-small" title="Umbral Nombre"></lightning-icon>
                                        </div>
                                        <div class="slds-col slds-size_5-of-12">
                                            <lightning-output-field field-name="SAC_Email__c"> </lightning-output-field>
                                        </div>
                                        <div class="slds-col slds-size_1-of-12">
                                            <template lwc:if={iconosCampos.SAC_Email__c}>
                                                <lightning-icon icon-name={iconosCampos.SAC_Email__c} alternative-text="IconAccountId" size="xx-small" title="IconEmail"></lightning-icon>
                                            </template>
                                        </div>
                                        <div class="slds-col slds-size_5-of-12">
                                            <lightning-output-field field-name="SAC_UmbralEmail__c"> </lightning-output-field>
                                        </div>
                                        <div class="slds-col slds-size_1-of-12">
                                            <lightning-icon icon-name={iconoInformativo} alternative-text="Umbral Email" size="xx-small" title="Umbral Email"></lightning-icon>
                                        </div>
                                        <div class="slds-col slds-size_5-of-12">
                                            <lightning-output-field field-name="SAC_DireccionContacto__c"> </lightning-output-field>
                                        </div>
                                        <div class="slds-col slds-size_1-of-12">
                                            <template lwc:if={iconosCampos.Informativo}>
                                                <lightning-icon icon-name={iconosCampos.Informativo} alternative-text="Dirección" size="xx-small" title="IconAccountNif"></lightning-icon>
                                            </template>
                                        </div>
                                        <div class="slds-col slds-size_5-of-12">
                                            <lightning-output-field field-name="SAC_CodigoPostalContacto__c"> </lightning-output-field>
                                        </div>
                                        <div class="slds-col slds-size_1-of-12">
                                            <template lwc:if={iconosCampos.Informativo}>
                                                <lightning-icon icon-name={iconosCampos.Informativo} alternative-text="CP" size="xx-small" title="IconAccountNif"></lightning-icon>
                                            </template>
                                        </div>
                                        <div class="slds-col slds-size_5-of-12">
                                            <lightning-output-field field-name="SAC_PoblacionContacto__c"> </lightning-output-field>
                                        </div>
                                        <div class="slds-col slds-size_1-of-12">
                                            <template lwc:if={iconosCampos.Informativo}>
                                                <lightning-icon icon-name={iconosCampos.Informativo} alternative-text="Población" size="xx-small" title="IconAccountNif"></lightning-icon>
                                            </template>
                                        </div>
                                        <div class="slds-col slds-size_5-of-12">
                                            <lightning-output-field field-name="SAC_ProvinciaContacto__c"> </lightning-output-field>
                                        </div>
                                        <div class="slds-col slds-size_1-of-12">
                                            <template lwc:if={iconosCampos.Informativo}>
                                                <lightning-icon icon-name={iconosCampos.Informativo} alternative-text="Provincia" size="xx-small" title="IconAccountNif"></lightning-icon>
                                            </template>
                                        </div>
                                        <div class="slds-col slds-size_5-of-12">
                                            <lightning-output-field field-name="SAC_PaisContacto__c"> </lightning-output-field>
                                        </div>
                                        <div class="slds-col slds-size_1-of-12">
                                            <template lwc:if={iconosCampos.Informativo}>
                                                <lightning-icon icon-name={iconosCampos.Informativo} alternative-text="País" size="xx-small" title="IconAccountNif"></lightning-icon>
                                            </template>
                                        </div>
                                        <div class="slds-col slds-size_5-of-12">
                                            </br>
                                        </div>
                                        <div class="slds-col slds-size_5-of-12">
                                            <lightning-output-field field-name="SAC_DocumentoURLFormula__c"> </lightning-output-field>
                                        </div>
                                        <div class="slds-col slds-size_1-of-12">
                                            <lightning-icon icon-name={iconoInformativo} alternative-text="IconDocumentoURLSec" size="xx-small" title="IconDocumentoURLSec"></lightning-icon>
                                        </div>
                                        <div class="slds-col slds-size_5-of-12">
                                            <lightning-output-field field-name="SAC_PaginaDocumento__c"> </lightning-output-field>
                                        </div>
                                        <div class="slds-col slds-size_1-of-12">
                                            <lightning-icon icon-name={iconoInformativo} alternative-text="IconPaginaDocumentoSec" size="xx-small" title="IconPaginaDocumentoSec"></lightning-icon>
                                        </div>
                                    </div>
                                </lightning-record-view-form>
                            </div>
                        </div>
                    <!-- Fin Reclamante -->
                    <template lwc:if={hayReclamantesSec}>
                        <div class={toggleReclamantesSec}>
                            <h1 class="slds-section__title">
                                <button aria-controls="expando-unique-id-reclamantesSecundarios" aria-expanded="true" class="slds-button slds-section__title-action" onclick={handleExpandableReclamantesSec}>
                                    <svg class="slds-section__title-action-icon slds-button__icon slds-button__icon_left" aria-hidden="true">
                                    <use xlink:href="/_slds/icons/utility-sprite/svg/symbols.svg#switch"></use>
                                    </svg>
                                    <span class="slds-truncate" title="Section Title">Datos de Reclamantes Secundarios</span>
                                </button>
                            </h1>
                            <div class="slds-section__content" id="expando-unique-id-reclamantesSecundarios">
                                <lightning-accordion allow-multiple-sections-open>
                                    <template for:each={reclamantesSecIA} for:item="reclamanteSecundario">
                                        <lightning-accordion-section name={reclamanteSecundario.Name} label={reclamanteSecundario.Name} key={reclamanteSecundario.Id} active-section-name={reclamanteSecundario.Name}>
                                            <lightning-record-view-form
                                            object-api-name="SAC_Genial_Resultado__c"
                                            record-id={reclamanteSecundario.Id}
                                            >
                                                <div class="slds-grid slds-gutters slds-m-bottom_medium slds-wrap"> 
                                                    <div class="slds-col slds-size_5-of-12">
                                                        <lightning-output-field field-name="SAC_AccountId__c"> </lightning-output-field>
                                                    </div>
                                                    <div class="slds-col slds-size_1-of-12">
                                                        <lightning-icon icon-name={iconoInformativo} alternative-text="IconAccountIdSec" size="xx-small" title="IconAccountIdSec"></lightning-icon>
                                                    </div>
                                                    <div class="slds-col slds-size_5-of-12">
                                                        <lightning-output-field field-name="SAC_Telefono_Contacto__c"> </lightning-output-field>
                                                    </div>
                                                    <div class="slds-col slds-size_1-of-12">
                                                        <lightning-icon icon-name={iconoInformativo} alternative-text="IconTelefono_ContactoSec" size="xx-small" title="IconTelefono_ContactoSec"></lightning-icon>
                                                    </div>
                                                    <template if:true={settingsCanal.data.SAC_BotonReclamante__c}>
                                                        <div class="slds-col slds-size_5-of-12">
                                                            <lightning-output-field field-name="SAC_SuppliedNIF__c"> </lightning-output-field>
                                                        </div>
                                                        <div class="slds-col slds-size_1-of-12">
                                                            <lightning-icon icon-name={iconoInformativo} alternative-text="IconSuppliedNIFSec" size="xx-small" title="IconSuppliedNIFtSec"></lightning-icon>
                                                        </div>
                                                        <div class="slds-col slds-size_5-of-12">
                                                            <lightning-output-field field-name="SAC_UmbralNIF__c"> </lightning-output-field>
                                                        </div>
                                                        <div class="slds-col slds-size_1-of-12">
                                                            <lightning-icon icon-name={iconoInformativo} alternative-text="Umbral NIF" size="xx-small" title="Umbral NIF"></lightning-icon>
                                                        </div>
                                                    </template>
                                                    <div class="slds-col slds-size_5-of-12">
                                                        <lightning-output-field field-name="SAC_NombreContacto__c"> </lightning-output-field>
                                                    </div>
                                                    <div class="slds-col slds-size_1-of-12">
                                                        <template lwc:if={iconosCampos.Informativo}>
                                                            <lightning-icon icon-name={iconosCampos.Informativo} alternative-text="Nombre" size="xx-small" title="IconAccountNif"></lightning-icon>
                                                        </template>
                                                    </div>
                                                    <div class="slds-col slds-size_5-of-12">
                                                        <lightning-output-field field-name="SAC_UmbralNombre__c"> </lightning-output-field>
                                                    </div>
                                                    <div class="slds-col slds-size_1-of-12">
                                                        <lightning-icon icon-name={iconoInformativo} alternative-text="Umbral Nombre" size="xx-small" title="Umbral Nombre"></lightning-icon>
                                                    </div>
                                                    <div class="slds-col slds-size_6-of-12">
                                                    </br>
                                                    </div>
                                                    <div class="slds-col slds-size_5-of-12">
                                                        <lightning-output-field field-name="SAC_UmbralApellido__c"> </lightning-output-field>
                                                    </div>
                                                    <div class="slds-col slds-size_1-of-12">
                                                        <lightning-icon icon-name={iconoInformativo} alternative-text="Umbral Apellido" size="xx-small" title="Umbral Nombre"></lightning-icon>
                                                    </div>
                                                    <div class="slds-col slds-size_5-of-12">
                                                        <lightning-output-field field-name="SAC_Email__c"> </lightning-output-field>
                                                    </div>
                                                    <div class="slds-col slds-size_1-of-12">
                                                        <lightning-icon icon-name={iconoInformativo} alternative-text="IconEmailSec" size="xx-small" title="IconEmailSec"></lightning-icon>
                                                    </div>
                                                    <div class="slds-col slds-size_5-of-12">
                                                        <lightning-output-field field-name="SAC_UmbralEmail__c"> </lightning-output-field>
                                                    </div>
                                                    <div class="slds-col slds-size_1-of-12">
                                                        <lightning-icon icon-name={iconoInformativo} alternative-text="Umbral Email" size="xx-small" title="Umbral Email"></lightning-icon>
                                                    </div>
                                                    <div class="slds-col slds-size_5-of-12">
                                                        <lightning-output-field field-name="SAC_DireccionContacto__c"> </lightning-output-field>
                                                    </div>
                                                    <div class="slds-col slds-size_1-of-12">
                                                        <lightning-icon icon-name={iconoInformativo} alternative-text="IconDireccionContactoSec" size="xx-small" title="IconDireccionContactoSec"></lightning-icon>
                                                    </div>
                                                    <div class="slds-col slds-size_5-of-12">
                                                        <lightning-output-field field-name="SAC_CodigoPostalContacto__c"> </lightning-output-field>
                                                    </div>
                                                    <div class="slds-col slds-size_1-of-12">
                                                        <lightning-icon icon-name={iconoInformativo} alternative-text="IconCodigoPostalContactoSec" size="xx-small" title="IconCodigoPostalContactoSec"></lightning-icon>
                                                    </div>
                                                    <div class="slds-col slds-size_5-of-12">
                                                        <lightning-output-field field-name="SAC_PoblacionContacto__c"> </lightning-output-field>
                                                    </div>
                                                    <div class="slds-col slds-size_1-of-12">
                                                        <lightning-icon icon-name={iconoInformativo} alternative-text="IconPoblacionContactoSec" size="xx-small" title="IconPoblacionContactoSec"></lightning-icon>
                                                    </div>
                                                    <div class="slds-col slds-size_5-of-12">
                                                        <lightning-output-field field-name="SAC_ProvinciaContacto__c"> </lightning-output-field>
                                                    </div>
                                                    <div class="slds-col slds-size_1-of-12">
                                                        <lightning-icon icon-name={iconoInformativo} alternative-text="IconProvinciaContactoSec" size="xx-small" title="IconProvinciaContactoSec"></lightning-icon>
                                                    </div>
                                                    <div class="slds-col slds-size_5-of-12">
                                                        <lightning-output-field field-name="SAC_PaisContacto__c"> </lightning-output-field>
                                                    </div>
                                                    <div class="slds-col slds-size_1-of-12">
                                                        <lightning-icon icon-name={iconoInformativo} alternative-text="IconPaisContactoSec" size="xx-small" title="IconPaisContactoSec"></lightning-icon>
                                                    </div>
                                                    <div class="slds-col slds-size_5-of-12">
                                                        <lightning-output-field field-name="SAC_DocumentoURLFormula__c"> </lightning-output-field>
                                                    </div>
                                                    <div class="slds-col slds-size_1-of-12">
                                                        <lightning-icon icon-name={iconoInformativo} alternative-text="IconDocumentoURLSec" size="xx-small" title="IconDocumentoURLSec"></lightning-icon>
                                                    </div>
                                                    <div class="slds-col slds-size_5-of-12">
                                                        <lightning-output-field field-name="SAC_PaginaDocumento__c"> </lightning-output-field>
                                                    </div>
                                                    <div class="slds-col slds-size_1-of-12">
                                                        <lightning-icon icon-name={iconoInformativo} alternative-text="IconPaginaDocumentoSec" size="xx-small" title="IconPaginaDocumentoSec"></lightning-icon>
                                                    </div>
                                                </div>
                                            </lightning-record-view-form>
                                        </lightning-accordion-section>  
                                    </template> 
                                </lightning-accordion>
                            </div>
                        </div>
                    </template>
                </template>
                
            
                <template lwc:if={mostrarSeccionConsultaReclamacion}>
                    <div class={toggleIconRepresentante}>
                        <h1 class="slds-section__title">
                          <button aria-controls="expando-unique-id-representante" aria-expanded="true" class="slds-button slds-section__title-action" onclick={handleExpandableRepresentante}>
                            <svg class="slds-section__title-action-icon slds-button__icon slds-button__icon_left" aria-hidden="true">
                              <use xlink:href="/_slds/icons/utility-sprite/svg/symbols.svg#switch"></use>
                            </svg>
                            <span class="slds-truncate" title="Section Title"> Datos del Representante</span>
                          </button>
                        </h1>
                       <div class="slds-section__content" id="expando-unique-representante">
                        <lightning-record-view-form 
                                record-id={idResultadoGenial}
                                object-api-name="SAC_Genial_Resultado__c"
                            >
                                <div class="slds-grid slds-gutters slds-m-bottom_medium slds-wrap"> 
                                    <div class="slds-col slds-size_5-of-12">
                                        <lightning-output-field field-name="SAC_TipoDeRepresentante__c"> </lightning-output-field>
                                    </div>
                                    <div class="slds-col slds-size_1-of-12">
                                        <template lwc:if={iconosCampos.SAC_TipoDeRepresentante__c}> 
                                            <lightning-icon icon-name={iconosCampos.SAC_TipoDeRepresentante__c} alternative-text="IconTipoRep" size="xx-small" title="IconTipoRep"></lightning-icon>
                                        </template>
                                    </div>
                                    <div class="slds-col slds-size_5-of-12">
                                        <lightning-output-field field-name="SAC_DireccionRepresentante__c"> </lightning-output-field>
                                    </div>
                                    <div class="slds-col slds-size_1-of-12">
                                        <template lwc:if={iconosCampos.SAC_DireccionRepresentante__c}> 
                                            <lightning-icon icon-name={iconosCampos.SAC_DireccionRepresentante__c} alternative-text="IconDireccionRep" size="xx-small" title="IconDireccionRep"></lightning-icon>
                                        </template>
                                    </div>
                
                                    <div class="slds-col slds-size_5-of-12">
                                        <lightning-output-field field-name="SAC_TipoDeDocumento__c"> </lightning-output-field>
                                    </div>
                                    <div class="slds-col slds-size_1-of-12">
                                        <template lwc:if={iconosCampos.SAC_TipoDeDocumento__c}> 
                                            <lightning-icon icon-name={iconosCampos.SAC_TipoDeDocumento__c} alternative-text="IconTipoDocumento" size="xx-small" title="IconTipoDocumento"></lightning-icon>
                                        </template>
                                    </div>
                                    <div class="slds-col slds-size_5-of-12">
                                        <lightning-output-field field-name="SAC_CodigoPostalRepresentante__c"> </lightning-output-field>
                                    </div>
                                    <div class="slds-col slds-size_1-of-12">
                                        <template lwc:if={iconosCampos.SAC_CodigoPostalRepresentante__c}> 
                                            <lightning-icon icon-name={iconosCampos.SAC_CodigoPostalRepresentante__c} alternative-text="IconCodigoPostalRep" size="xx-small" title="IconCodigoPostalRep"></lightning-icon>
                                        </template>
                                    </div>
                                    <template if:true={settingsCanal.data.SAC_BotonReclamante__c}>
                                        <div class="slds-col slds-size_5-of-12">
                                            <lightning-output-field field-name="SAC_NumeroDelDocumento__c"> </lightning-output-field>
                                        </div>
                                        <div class="slds-col slds-size_1-of-12">
                                            <template lwc:if={iconosCampos.SAC_NumeroDelDocumento__c}>
                                                <lightning-icon icon-name={iconosCampos.SAC_NumeroDelDocumento__c} alternative-text="IconNumeroDocumento" size="xx-small" title="IconNumeroDocumento"></lightning-icon>
                                            </template>
                                        </div>
                                    </template>
                                    <div class="slds-col slds-size_5-of-12">
                                        <lightning-output-field field-name="SAC_PoblacionRepresentante__c"> </lightning-output-field>
                                    </div>
                                    <div class="slds-col slds-size_1-of-12">
                                        <template lwc:if={iconosCampos.SAC_PoblacionRepresentante__c}> 
                                            <lightning-icon icon-name={iconosCampos.SAC_PoblacionRepresentante__c} alternative-text="IconPoblacionRep" size="xx-small" title="IconPoblacionRep"></lightning-icon>
                                        </template>
                                    </div>
                                    <template if:true={settingsCanal.data.SAC_BotonReclamante__c}>
                                        <div class="slds-col slds-size_5-of-12">
                                            <lightning-output-field field-name="SAC_NombreRepresentante__c"> </lightning-output-field>
                                        </div>
                                        <div class="slds-col slds-size_1-of-12">
                                            <template lwc:if={iconosCampos.SAC_NombreRepresentante__c}> 
                                                <lightning-icon icon-name={iconosCampos.SAC_NombreRepresentante__c} alternative-text="IconNombreCompleto" size="xx-small" title="IconNombreCompleto"></lightning-icon>
                                            </template>
                                        </div>
                                    </template>
                                    <div class="slds-col slds-size_5-of-12">
                                        <lightning-output-field field-name="SAC_ProvinciaRepresentante__c"> </lightning-output-field>
                                    </div>
                                    <div class="slds-col slds-size_1-of-12">
                                        <template lwc:if={iconosCampos.SAC_ProvinciaRepresentante__c}> 
                                            <lightning-icon icon-name={iconosCampos.SAC_ProvinciaRepresentante__c} alternative-text="IconProvinciaRep" size="xx-small" title="IconProvinciaRep"></lightning-icon>
                                        </template>
                                    </div>
                
                                    <div class="slds-col slds-size_5-of-12">
                                        <lightning-output-field field-name="SAC_TelefonoRepresentante__c"> </lightning-output-field>
                                    </div>
                                    <div class="slds-col slds-size_1-of-12">
                                        <template lwc:if={iconosCampos.SAC_TelefonoRepresentante__c}>
                                            <lightning-icon icon-name={iconosCampos.SAC_TelefonoRepresentante__c} alternative-text="IconTelefonoRep" size="xx-small" title="IconTelefonoRep"></lightning-icon>
                                        </template>
                                    </div>
                                    <div class="slds-col slds-size_5-of-12">
                                        <lightning-output-field field-name="SAC_PaisRepresentante__c"> </lightning-output-field>
                                    </div>
                                    <div class="slds-col slds-size_1-of-12">
                                        <template lwc:if={iconosCampos.SAC_PaisRepresentante__c}>
                                            <lightning-icon icon-name={iconosCampos.SAC_PaisRepresentante__c} alternative-text="IconPaisRep" size="xx-small" title="IconPaisRep"></lightning-icon>
                                        </template>
                                    </div>
                
                                    <div class="slds-col slds-size_5-of-12">
                                        <lightning-output-field field-name="SAC_EmailRepresentante__c"> </lightning-output-field>
                                    </div>
                                    <div class="slds-col slds-size_1-of-12">
                                        <template lwc:if={iconosCampos.SAC_EmailRepresentante__c}>
                                            <lightning-icon icon-name={iconosCampos.SAC_EmailRepresentante__c} alternative-text="IconCorreoRep" size="xx-small" title="IconCorreoRep"></lightning-icon>
                                        </template>
                                    </div>
                                   <!-- <div class="slds-col slds-size_5-of-12">
                                        <lightning-output-field field-name="SAC_DireccionPostal__c"> </lightning-output-field>
                                    </div>
                                     <div class="slds-col slds-size_1-of-12">
                                        <template lwc:if={iconosCampos.SAC_DireccionPostal__c}>
                                            <lightning-icon icon-name={iconosCampos.SAC_DireccionPostal__c} alternative-text="IconPostalRep" size="xx-small" title="IconPostalRep"></lightning-icon>
                                        </template>
                                    </div>-->
                
                                    <div class="slds-col slds-size_5-of-12">
                                        <lightning-output-field field-name="SAC_DespachoRepresentante__c"> </lightning-output-field>
                                    </div>
                                    <div class="slds-col slds-size_1-of-12">
                                        <template lwc:if={iconosCampos.SAC_DespachoRepresentante__c}>
                                            <lightning-icon icon-name={iconosCampos.SAC_DespachoRepresentante__c} alternative-text="IconDespachoRep" size="xx-small" title="IconDespachoRep"></lightning-icon>
                                        </template>
                                    </div>
                                   <!-- <div class="slds-col slds-size_5-of-12">
                                        <lightning-output-field field-name="SAC_PoderRepresentante__c"> </lightning-output-field>
                                    </div>
                                    <div class="slds-col slds-size_1-of-12">
                                        <template lwc:if={iconosCampos.SAC_PoderRepresentante__c}>
                                            <lightning-icon icon-name={iconosCampos.SAC_PoderRepresentante__c} alternative-text="IconPoderRep" size="xx-small" title="IconPoderRep"></lightning-icon>
                                        </template>
                                    </div>-->
                                </div>
                            </lightning-record-view-form>
                        </div>
                    </div>
                </template>
                
            
                <template lwc:if={mostrarSeccionConsultaReclamacion}>
                    <div class={toggleIconDetalles}>
                        <h1 class="slds-section__title">
                          <button aria-controls="expando-unique-id-detalles" aria-expanded="true" class="slds-button slds-section__title-action" onclick={handleExpandableDetalles}>
                            <svg class="slds-section__title-action-icon slds-button__icon slds-button__icon_left" aria-hidden="true">
                              <use xlink:href="/_slds/icons/utility-sprite/svg/symbols.svg#switch"></use>
                            </svg>
                            <span class="slds-truncate" title="Section Title"> Detalles</span>
                          </button>
                        </h1>
                       <div class="slds-section__content" id="expando-unique-id-detalles">
                        <lightning-record-view-form 
                            record-id={idResultadoGenial}
                            object-api-name="SAC_Genial_Resultado__c"
                        >
                                <div class="slds-grid slds-gutters slds-m-bottom_medium slds-wrap">
                                    <div class="slds-col slds-size_5-of-12">
                                        <lightning-output-field field-name="SAC_Importe_Tipo__c"> </lightning-output-field>
                                    </div>
                                    <div class="slds-col slds-size_1-of-12">
                                        <template lwc:if={iconosCampos.SAC_Importe_Tipo__c}>
                                            <lightning-icon icon-name={iconosCampos.SAC_Importe_Tipo__c} alternative-text="IconImporteTipo" size="xx-small" title="IconImporteTipo"></lightning-icon>
                                        </template>
                                    </div>
                                    <div class="slds-col slds-size_5-of-12">
                                        <lightning-output-field field-name="SAC_Naturaleza__c"> </lightning-output-field>
                                    </div>
                                    <div class="slds-col slds-size_1-of-12">
                                        <template lwc:if={iconosCampos.SAC_Naturaleza__c}>
                                            <lightning-icon icon-name={iconosCampos.SAC_Naturaleza__c} alternative-text="IconNaturaleza" size="xx-small" title="IconNaturaleza"></lightning-icon>
                                        </template>
                                    </div>
                
                                    <div class="slds-col slds-size_5-of-12">
                                        <lightning-output-field field-name="SAC_Importe_Reclamado__c"> </lightning-output-field>
                                    </div>
                                    <div class="slds-col slds-size_1-of-12">
                                        <template lwc:if={iconosCampos.SAC_Importe_Reclamado__c}>
                                            <lightning-icon icon-name={iconosCampos.SAC_Importe_Reclamado__c} alternative-text="IconImporteReclamado" size="xx-small" title="IconImporteReclamado"></lightning-icon>
                                        </template>
                                    </div>
                                    <div class="slds-col slds-size_5-of-12">
                                        <lightning-output-field field-name="SAC_Idioma__c"> </lightning-output-field>
                                    </div>
                                    <div class="slds-col slds-size_1-of-12">
                                        <template lwc:if={iconosCampos.SAC_Idioma__c}>
                                            <lightning-icon icon-name={iconosCampos.SAC_Idioma__c} alternative-text="IconIdioma" size="xx-small" title="IconIdioma"></lightning-icon>
                                        </template>
                                    </div>
                
                                    <div class="slds-col slds-size_5-of-12">
                                        <lightning-output-field field-name="SAC_FechaRecepcion__c"> </lightning-output-field>
                                    </div>
                                    <div class="slds-col slds-size_1-of-12">
                                        <template lwc:if={iconosCampos.SAC_FechaRecepcion__c}>
                                            <lightning-icon icon-name={iconosCampos.SAC_FechaRecepcion__c} alternative-text="IconFechaRecepcion" size="xx-small" title="IconFechaRecepcion"></lightning-icon>
                                        </template>
                                    </div>
                                    <div class="slds-col slds-size_5-of-12">
                                        <lightning-output-field field-name="SAC_Oficina_Afectada_Lookup__c"> </lightning-output-field>
                                    </div>
                                    <div class="slds-col slds-size_1-of-12">
                                        <template lwc:if={iconosCampos.SAC_Oficina_Afectada_Lookup__c}>
                                            <lightning-icon icon-name={iconosCampos.SAC_Oficina_Afectada_Lookup__c} alternative-text="IconOficinaAfectada" size="xx-small" title="IconOficinaAfectada"></lightning-icon>
                                        </template>
                                    </div>
                                </div>
                            </lightning-record-view-form>
                        </div>
                    </div>
                </template>
                
                <!-- Se muestra si es reclamacion y si es pretension -->
                <template lwc:if={mostrarSeccionMCC}> 
                    <div class={toggleIconMCC}>
                        <h1 class="slds-section__title">
                        <button aria-controls="expando-unique-id-mcc" aria-expanded="true" class="slds-button slds-section__title-action" onclick={handleExpandableMCC}>
                            <svg class="slds-section__title-action-icon slds-button__icon slds-button__icon_left" aria-hidden="true">
                            <use xlink:href="/_slds/icons/utility-sprite/svg/symbols.svg#switch"></use>
                            </svg>
                            <template lwc:if={esReclamacion}> 
                                <span class="slds-truncate" title="Section Title"> Categorización MCC</span>
                            </template>                        
                            <template lwc:else> 
                                <span class="slds-truncate" title="Section Title"> Categorización MCC IA</span>
                            </template>
                        </button>
                        </h1>
                    <div class="slds-section__content" id="expando-unique-id-mcc">
                        <lightning-record-view-form 
                            record-id={idResultadoGenial}
                            object-api-name="SAC_Genial_Resultado__c">
                                <div class="slds-grid slds-gutters slds-m-bottom_medium slds-wrap"> 
                                    <div class="slds-col slds-size_5-of-12">
                                        <lightning-output-field field-name="SAC_MCC_Tematica__c"> </lightning-output-field>
                                    </div>
                                    <div class="slds-col slds-size_1-of-12">
                                        <template lwc:if={iconosCampos.SAC_MCC_Tematica__c}>
                                            <lightning-icon icon-name={iconosCampos.SAC_MCC_Tematica__c} alternative-text="IconMCCTematica" size="xx-small" title="IconMCCTematica"></lightning-icon>
                                        </template>
                                    </div>
                                    <div class="slds-col slds-size_5-of-12">
                                        <lightning-output-field field-name="SAC_MCC_ProdServ__c"> </lightning-output-field>
                                    </div>
                                    <div class="slds-col slds-size_1-of-12">
                                        <template lwc:if={iconosCampos.SAC_MCC_ProdServ__c}>
                                            <lightning-icon icon-name={iconosCampos.SAC_MCC_ProdServ__c} alternative-text="IconMCCProdServ" size="xx-small" title="IconMCCProdServ"></lightning-icon>
                                        </template>
                                    </div>
                
                                    <div class="slds-col slds-size_5-of-12">
                                        <lightning-output-field field-name="SAC_MCC_Motivo__c"> </lightning-output-field>
                                    </div>
                                    <div class="slds-col slds-size_1-of-12">
                                        <template lwc:if={iconosCampos.SAC_MCC_Motivo__c}>
                                            <lightning-icon icon-name={iconosCampos.SAC_MCC_Motivo__c} alternative-text="IconMCCMotivo" size="xx-small" title="IconMCCMotivo"></lightning-icon>
                                        </template>
                                    </div>
                                    <div class="slds-col slds-size_5-of-12">
                                        <lightning-output-field field-name="SAC_Detalle__c"> </lightning-output-field>
                                    </div>
                                    <div class="slds-col slds-size_1-of-12">
                                        <template lwc:if={iconosCampos.SAC_Detalle__c}>
                                            <lightning-icon icon-name={iconosCampos.SAC_Detalle__c} alternative-text="IconSEGDetalle" size="xx-small" title="IconSEGDetalle"></lightning-icon>
                                        </template>
                                    </div>
                                    <template lwc:if={esReclamacion}></template>
                                    <template lwc:else>
                                        <!-- Campo en blanco -->
                                        <div class="slds-col slds-size_6-of-12"></div>
                                        <div class="slds-col slds-size_5-of-12">
                                            <lightning-output-field field-name="SAC_EsPrincipal__c"> </lightning-output-field>
                                        </div>
                                        <div class="slds-col slds-size_1-of-12">
                                            <template lwc:if={iconosCampos.SAC_EsPrincipal__c}>
                                                <lightning-icon icon-name={iconosCampos.SAC_EsPrincipal__c} alternative-text="IconSEGDetalle" size="xx-small" title="IconSEGDetalle"></lightning-icon>
                                            </template>
                                        </div>
                                        <!-- roll back funcionalidad resumen en pretension-->
                                        <!--
                                        <div class="slds-col slds-size_11-of-12">
                                            <lightning-output-field field-name="SAC_Resumen__c"> </lightning-output-field>
                                        </div>-->
                                        <!--<div class="slds-col slds-size_1-of-12">
                                        <div>
                                            <template lwc:if={iconosCampos.SAC_Resumen__c}>
                                                <lightning-icon icon-name={iconosCampos.SAC_Resumen__c} alternative-text="IconSACResumen" size="xx-small" title="IconSACResumen"></lightning-icon>
                                            </template>
                                        </div>-->
                                        <!-- roll back funcionalidad resumen en pretension-->
                                        <!--
                                        <div class="slds-col slds-size_12-of-12 slds-float_right">
                                            <div class="slds-text-align_right">
                                            <lightning-button label="Me gusta" icon-name="utility:like" alternative-text="Me gusta" onclick={handleLike} variant={likeClass}></lightning-button>
                                            <lightning-button label="No me gusta" icon-name="utility:dislike" alternative-text="No me gusta" onclick={handleDislike} variant={dislikeClass}></lightning-button>
                                            </div>
                                        </div>-->
                                    
                                        
                                    </template>
                                </div>
                            </lightning-record-view-form>
                        </div>
                    </div>
                </template>
                <!-- Seccion de PRETENSIONES PROPUESTAS(solo se debe mostrar en la reclamación) -->
                <template lwc:if={esReclamacion}>
                    <div class={togglePretensiones}>
                        <h1 class="slds-section__title">
                            <button aria-controls="expando-unique-id-mcc" aria-expanded="true" class="slds-button slds-section__title-action" onclick={handleExpandablePretensiones}>
                                <svg class="slds-section__title-action-icon slds-button__icon slds-button__icon_left" aria-hidden="true">
                                <use xlink:href="/_slds/icons/utility-sprite/svg/symbols.svg#switch"></use>
                                </svg>
                                <span class="slds-truncate" title="Section Title">Pretensiones propuestas</span>
                            </button>
                        </h1>
                        <div class="slds-section__content" id="expando-unique-pretensiones">
                            <lightning-accordion allow-multiple-sections-open>
                                <template for:each={pretensionesIA} for:item="pretension">
                                    <lightning-accordion-section name={pretension.Name} label={pretension.Name} key={pretension.Id} active-section-name={pretension.Name}>
                                        <lightning-record-view-form
                                        object-api-name="SAC_Genial_Resultado__c"
                                        record-id={pretension.Id}
                                        density="Comfy"
                                        >
                                            <div class="slds-grid slds-gutters slds-m-bottom_medium slds-wrap"> 
                                                <div class="slds-col slds-size_1-of-2">
                                                    <lightning-output-field field-name="SAC_MCC_Tematica__c"> </lightning-output-field>
                                                </div>
                                                <div class="slds-col slds-size_1-of-2">
                                                    <lightning-output-field field-name="SAC_UmbralTematica__c"> </lightning-output-field>
                                                </div>
                                                <div class="slds-col slds-size_1-of-2">
                                                    <lightning-output-field field-name="SAC_MCC_ProdServ__c"> </lightning-output-field>
                                                </div>
                                                <div class="slds-col slds-size_1-of-2">
                                                    <lightning-output-field field-name="SAC_UmbralProdServ__c"> </lightning-output-field>
                                                </div>
                                                <div class="slds-col slds-size_1-of-2">
                                                    <lightning-output-field field-name="SAC_MCC_Motivo__c"> </lightning-output-field>
                                                </div>
                                                <div class="slds-col slds-size_1-of-2">
                                                    <lightning-output-field field-name="SAC_UmbralMotivo__c"> </lightning-output-field>
                                                </div>
                                                <div class="slds-col slds-size_1-of-2">
                                                    <lightning-output-field field-name="SAC_Detalle__c"> </lightning-output-field>
                                                </div>
                                                <div class="slds-col slds-size_1-of-2">
                                                    <lightning-output-field field-name="SAC_UmbralDetalle__c"> </lightning-output-field>
                                                </div>
                                                <div class="slds-col slds-size_1-of-1">
                                                    <lightning-output-field field-name="SAC_Resumen__c"> </lightning-output-field>
                                                </div>  
                                            </div>
                                        </lightning-record-view-form>
                                    </lightning-accordion-section>  
                                </template> 
                            </lightning-accordion>
                        </div>
                    </div>
                </template>
            </template>
            <template lwc:else>
                <template lwc:if={mostrarSeccionConsultaReclamacion}>
                    <!-- Habria que imprimir datos pero no se ha encontrado el objeto con los datos IA -->
                    <div class="slds-illustration slds-illustration_large" aria-hidden="true">
                        <img src="/img/chatter/Desert.svg" class="slds-illustration__svg" alt=""/>
                        <div class="slds-text-color_weak">
                            <h3 class="slds-text-heading_medium">No hay datos propuestos por la IA</h3>
                        </div>
                    </div>
                </template>
            </template>
        </template>
        <template lwc:else>
            <template lwc:if={mostrarSeccionConsultaReclamacion}>
                <!-- Si el SAC_GenialEstado no esta definido o esta en Respondido(Shadow) -->
                <!-- En estado Respondido(Shadow) se imprime el mismo mensaje que si no hubiese datos IA, pero si que los hay -->
                <div class="slds-illustration slds-illustration_large" aria-hidden="true">
                    <img src="/img/chatter/Desert.svg" class="slds-illustration__svg" alt=""/>
                    <div class="slds-text-color_weak">
                        <h3 class="slds-text-heading_medium">No hay datos propuestos por la IA</h3>
                    </div>
                </div>
            </template>
        </template>
    </template>
    <template lwc:if={bAsignarReclamantes}>
        <section role="dialog" tabindex="-1" aria-labelledby="modal-heading-01" aria-modal="true" aria-describedby="modal-content-id-1" class="slds-modal slds-fade-in-open">
            <div class="slds-modal__container">
             <!-- modal header start -->
               <header class="slds-modal__header">
                  <button class="slds-button slds-button_icon slds-modal__close slds-button_icon-inverse" title="Close" onclick={handleCancelar}>
                     <lightning-icon icon-name="utility:close"
                        alternative-text="close"
                        variant="border-filled"
                        size="small" ></lightning-icon>
                     <span class="slds-assistive-text">Cancelar</span>
                  </button>
                  <h2 id="modal-heading-01" class="slds-text-heading_medium slds-hyphenate">Asignación de reclamante/s</h2>
               </header>
           
               <!-- modal body start -->
               <div class="slds-modal__content slds-p-around_medium" id="modal-content-id-1" style="position:relative">
                    <template if:true={cargando2}>
                        <!--<div class="backgroundInverse" style="position:relative">
                            
                        </div>-->
                        <lightning-spinner alternative-text="Asignando Reclamante/s" aria-label="Asignando Reclamante/s" class="spinnerClass"></lightning-spinner>
                    </template>
                     <p>El dato del <b>reclamante/s ha sido aportado por la IA</b>, para garantizar la seguridad e integridad de la información 
                        en materia de protección de datos personales, <u>recuerda realizar las siguientes validaciones:</u></p>
                    <br>
                    <ol class="slds-list_ordered">
                        <li>Verifica en el escrito de reclamación que los <b>datos de identificación del reclamante/s</b> son correctos. </li>
                        <li>Verifica en el escrito de reclamación que los <b>datos de contacto para responder la reclamación</b> son correctos. </li>
                    </ol>
                    <br>
                    <div class={checkBoxClass}>
                        <div class="slds-form-element__control">
                            <div class="slds-checkbox">
                                <abbr class="slds-required" title="required">*</abbr>
                                <input type="checkbox" name="options" id="confirmCheckbox" onchange={handleCheckboxCambio} aria-describedby="error_01"/>
                                <label class="slds-checkbox__label" for="confirmCheckbox">
                                    <span class="slds-checkbox_faux"></span>
                                    <span class="slds-form-element__label">Confirmo que he realizado las validaciones</span>
                                </label>
                            </div>
                        </div>
                        <template lwc:if={checkError}>
                            <div class="slds-form-element__help" id="error_01">Debes marcar el check antes de continuar</div>
                        </template>
                    </div>
                </div>
               <!-- modal footer start-->
               <footer class="slds-modal__footer">
                  <button class="slds-button slds-button_neutral" onclick={handleCancelar}>Cancelar</button>
                  <button class="slds-button slds-button_brand" onclick={handleConfirmar}>Confirmar</button>
               </footer>
            
            </div>
         </section>
         <div class="slds-backdrop slds-backdrop_open" role="presentation"></div>
    </template>
</template>
<!-- c/myModal.html -->