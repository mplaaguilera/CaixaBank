<template>	
    <lightning-card  variant="Narrow" title="Filtros de búsqueda" icon-name="standard:search">        
        <div class="slds-form_horizontal slds-grid slds-wrap">
			<div class="slds-size_1-of-3">
				<div class=" slds-m-around_x-small">
					<lightning-combobox name="DT" label="Búsqueda de Procesos por DT" placeholder="Seleccione una opción" value={valueCarGestorActual} options={carGestorActual} disabled="true"></lightning-combobox>
				</div>
			</div>

			<div class="slds-size_1-of-3">
				<div class=" slds-m-around_x-small">
					<lightning-combobox name="DT" label="DT Comercial" placeholder="Seleccione una opción" value={valueDtComercial} options={dtComercial} disabled="true"></lightning-combobox>
				</div>
			</div>
		</div>

		<div class="slds-form_horizontal slds-grid slds-wrap">	
			<div class="slds-size_1-of-3">
				<div class=" slds-m-around_x-small">
					<lightning-combobox name="estrategia" label="Estrategia" placeholder="Seleccione una opción" value={valueEstrategia} options={optionEstrategia} onchange={changeEstrategia}></lightning-combobox>
				</div>
			</div>

			<div class="slds-size_1-of-3">
				<div class=" slds-m-around_x-small">
					<lightning-combobox name="Centro" label="Centro" placeholder="Seleccione una opción" value={valueOficina} options={optionOficina} onchange={changeFiltroOficina} required></lightning-combobox>
				</div>
			</div> 			

			<div class="slds-size_1-of-3">
				<div class=" slds-m-around_x-small">
					<lightning-combobox name="tipoGestion" label="Tipo de Gestion" placeholder="Seleccione una opción" value={valueTipoGestion} options={optionTipoGestion} onchange={changeTipoGestion}></lightning-combobox>
				</div>

			</div>
		</div>

		<div class="slds-form_horizontal slds-grid slds-wrap">	
			<div class="slds-size_1-of-3">
				<div class=" slds-m-around_x-small">
					<lightning-combobox name="Situacion" label="Situación" placeholder="Seleccione una opción" value={valueSituacion} options={optionSituacion} onchange={changeSituacion}></lightning-combobox>
				</div>
			</div>

			<div class="slds-size_1-of-3">
				<div class=" slds-m-around_x-small">
					<lightning-combobox name="Empleado" label="Empleado" placeholder="Seleccione una opción" value={valueEmpleado} options={optionsEmpleado} onchange={changeEmpleado} required disabled={disabledEmpleado}></lightning-combobox>
				</div>
			</div> 
			
			<div class="slds-size_1-of-3">
				<div class="slds-m-around_x-small">					
					<lightning-button class="buttonStyle" variant="brand" label="Buscar" onclick={buscar} disabled={disabledBuscar}></lightning-button>
					<lightning-button class="buttonStyle" label="Reiniciar" onclick={resetFilters}></lightning-button>
				</div>
			</div>
		</div>
    </lightning-card>

	<div if:true={firstSearch} class="divPadding">			
		<lightning-card variant="Narrow" title={tituloTabla} icon-name="custom:custom55">	
			<span style="float: right; margin-top: -30px; margin-right: 15px;">{numRegistrosSeleccionados}</span>			
			<div class="table-container table-container-paginacion">	
				
				<lightning-datatable data-id="divblock" key-field="enlaceProceso" 
					data={procesos} 
					columns={columns}
					onrowselection={getSelectedName}
					selected-rows={procesosSeleccionados}
					default-sort-direction={defaultSortDirection}
					sorted-direction={sortDirection}
					sorted-by={sortedBy}
					onsort={onHandleSort}>
				</lightning-datatable>
				<br/>
				<div if:true={isMultipagina}>
					<lightning-layout horizontal-align="space">
						<lightning-layout-item flexibility="auto">
							<lightning-button label="Anterior" icon-name="utility:chevronleft" onclick={previousHandler}>
							</lightning-button>
						</lightning-layout-item>
						<lightning-layout-item flexibility="auto">
							Página {page} de {totalPage}
						</lightning-layout-item>
						<lightning-layout-item flexibility="auto">
							<lightning-button label="Posterior" icon-name="utility:chevronright" icon-position="right"
								onclick={nextHandler}></lightning-button>
						</lightning-layout-item>
					</lightning-layout>
				</div>
			</div>
			<lightning-spinner if:true={showSpinner} alternative-text="Cargando..." variant="brand" size="medium" class="spin-cls" ></lightning-spinner>			
		</lightning-card>
		<div class="divPadding marginBoton">				
			<div class="slds-form_horizontal slds-grid slds-wrap">	
				<div class="slds-size_3-of-4"></div>
				<div class="slds-size_1-of-4">
					<lightning-button variant="brand" label="Asignar Analista de Riesgo" onclick={handleConfirmClick} disabled={disabledButtonAsignar}></lightning-button>
				</div>
			</div>		
		</div>	
	</div>	
</template>