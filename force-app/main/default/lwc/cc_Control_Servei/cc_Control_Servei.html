<template>

	<!-- sldsValidatorIgnoreNextLine -->
	<lightning-quick-action-panel header="Enviar comunicación" class="slds-is-relative" >

		<lightning-spinner lwc:if={spinner} variant="brand" alternative-text="Cargando..."></lightning-spinner>

		<div class="body slds-is-relative oculto">
			<div class="container slds-var-m-bottom_x-large">
				<div class="slds-form-element slds-form-element_stacked">
					<div class="slds-grid slds-gutters_direct-xxx-small slds-grid_vertical-align-center">
						<div class="slds-col" style="text-align: end; font-weight: 500;">
							<label class="slds-form-element__label">Buscar casos desde</label>
						</div>
						<div class="slds-col slds-grow-none slds-is-relative" style="top: 2px; width: 280px;">
							<lightning-input class="inputFechaDesde" type="datetime" value={fechasBusqueda.desde} variant="label-hidden"></lightning-input>
						</div>
						<div class="slds-col slds-grow-none" style="text-align: end; font-weight: 500;">
							<label class="slds-form-element__label slds-var-m-left_medium">Hasta</label>
						</div>
						<div class="slds-col slds-grow-none slds-is-relative" style="top: 2px; width: 280px;">
							<lightning-input class="inputFechaHasta" type="datetime" value={fechasBusqueda.hasta} variant="label-hidden"></lightning-input>
						</div>
						<div class="slds-col slds-grow-none slds-var-m-left_small">
							<lightning-button-icon icon-name="utility:search" variant="brand" onclick={buscarCasosPorFecha}></lightning-button-icon>
						</div>
					</div>
				</div>

				<div class="datatableContainer"> <!--margin: 0px; padding: 0px; overflow: hidden; flex-grow: 1; width: 100%;-->
					<div>
						<!-- sldsValidatorIgnoreNextLine -->
						<lightning-datatable
							key-field="Id"
							columns={datatableColumns}
							data={datatableData}
							column-widths-mode="auto"
							sorted-by="CreatedDate"
							sorted-direction="asc"
							onrowselection={datatableOnrowselection}>
						</lightning-datatable>
					</div>
				</div>
			</div>

			<lightning-input-rich-text class="slds-var-m-top_xx-large"></lightning-input-rich-text>
		</div>

		<!-- Footer -->
		<div slot="footer">
			<lightning-button variant="brand" label="Enviar comunicación" icon-name="utility:send" onclick={enviarComunicacion} disabled={botonEnviarDisabled}></lightning-button>
			<lightning-button class="slds-var-m-left_small" label="Cancelar" onclick={cerrarQuickAction}></lightning-button>
		</div>

	</lightning-quick-action-panel>

</template>