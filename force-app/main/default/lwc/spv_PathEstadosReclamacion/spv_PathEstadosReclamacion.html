<template>

	<article class="slds-card">
		<div class="slds-card__body slds-card__body_inner slds-var-p-horizontal_small slds-var-m-bottom_x-small">
            <!-- Indicador de estados -->
            
        <template if:true={generarProgressIndicator}>
			<lightning-progress-indicator current-step={statusSeleccionado} type="path">
                <template for:each={statusValues} for:item="statusValue">
                    <lightning-progress-step
                        key={statusValue.value}
                        label={statusValue.label}
                        value={statusValue.value}
                        onclick={statusOnclick}
                    ></lightning-progress-step>
                </template>
			</lightning-progress-indicator>
        </template>

            <!--<template if:true={opcion1}>
                <lightning-progress-indicator current-step={statusSeleccionado} type="path">
                    <lightning-progress-step key={statusAlta} label="Alta" value="SAC_001" onclick={statusOnclick}></lightning-progress-step>
                    <lightning-progress-step key={as} label="Análisis y Decisión" value="SPV_AnalisisDecision" onclick={statusOnclick}></lightning-progress-step>
                    <lightning-progress-step key={asd} label="Envío" value="SPV_Envio" onclick={statusOnclick}></lightning-progress-step>
                    <lightning-progress-step key={sd} label="Pendiente respuesta Organismo" value="SPV_PendienteRespuestaOrganismo" onclick={statusOnclick}></lightning-progress-step>
                    <lightning-progress-step key={asd} label="Recepción Resolución" value="SPV_RecepcionResolucion" onclick={statusOnclick}></lightning-progress-step>
                    <lightning-progress-step key={asd} label="Cerrado" value="Cerrado" onclick={statusOnclick}></lightning-progress-step>
                </lightning-progress-indicator>
            </template>-->

			<!--<div class="slds-grid slds-grid_align-spread slds-gutters_direct-small slds-var-m-top_medium">
				<div class="slds-col" style="width: 100%; overflow-x: auto;">
					<div style="display: inline-block; overflow-x: auto;">
						<div class="divSubetapas">
                            <template if:false={esPretension}>
                                <lightning-progress-indicator current-step={subestadoSeleccionado} type="path">
                                    <template for:each={subestadosValues} for:item="subestado">
                                        <lightning-progress-step
                                            key={subestado.value}
                                            label={subestado.label}
                                            value={subestado.value}
                                            title={subestado.label}
                                            onclick={subestadoOnclick}>
                                        </lightning-progress-step>
                                    </template>
                                </lightning-progress-indicator>

                                <div class="contenedor">
                                    <template for:each={subestadosYApecto} for:item="subestado">
                                        <button style="padding-left: 5px" data-id={subestado.value} key={subestado.value} onclick={subestadoOnclick} class ={subestado.class}>{subestado.label}</button>
                                    </template>
                                </div>



                            </template>
						</div>
					</div>
				</div>
				<div class="slds-col slds-grow-none slds-shrink-none" >
					<lightning-button
						class="botonActualizar"
						label="Actualizar estado"
						variant="brand-outline"
						icon-name="utility:check"
						onclick={botonActualizarOnclick}
                        disabled={esPretension}>
					</lightning-button>
				</div>
			</div>-->
		</div>
	</article>

	<template if:true={isModalOpenPretensiones}> 
        <section role="dialog" tabindex="-1" aria-labelledby="modal-heading-02" aria-modal="true" aria-describedby="modal-content-id-2" class="slds-modal slds-fade-in-open">
            <div class="slds-modal__container">
                <!-- Modal/Popup Box LWC header here -->
                <header class="slds-modal__header">
                    <button class="slds-button slds-button_icon slds-modal__close slds-button_icon-inverse" title="Close" onclick={closeModalPretensiones}>
                        <lightning-icon icon-name="utility:close"
                            alternative-text="close"
                            variant="inverse"
                            size="small" ></lightning-icon>
                        <span class="slds-assistive-text">Close</span>
                    </button>
                    <h3 id="modal-heading-02" class="slds-text-heading_medium slds-hyphenate">Seleccione las pretensiones en las que desee negociar</h3>
                </header>
                <!-- Modal/Popup Box LWC body starts here -->
                <div class="slds-modal__content slds-p-around_medium" id="modal-content-id-2">
                    <!-- spinner -->
                    <template if:true={isLoading}>
                        <lightning-spinner alternative-text="Loading" size="large" variant="brand"></lightning-spinner>
                    </template>
                    <lightning-datatable
                            key-field="id"
                            data={pretensiones}
                            columns={columns}
                            onrowselection ={handleRowSelection}
                    >
                    </lightning-datatable>
                </div>
                <!-- Modal/Popup Box LWC footer starts here -->
                <footer class="slds-modal__footer">
                    <button class="slds-button slds-button_neutral" onclick={closeModalPretensiones} title="Cancel">Cancelar</button>
                    <button class="slds-button slds-button_brand" onclick={negociarPretensiones} title="Ok" disabled={mostrarBoton}>Seleccionar Pretensiones</button> 
                </footer>
            </div>
        </section>
        <div class="slds-backdrop slds-backdrop_open"></div>
    </template>

    <template if:true={mostrarPasoEnvioOrgRecti}> 
        <section role="dialog" tabindex="-1" aria-labelledby="modal-heading-02" aria-modal="true" aria-describedby="modal-content-id-2" class="slds-modal slds-fade-in-open">
            <div class="slds-modal__container">
                <!-- Modal/Popup Box LWC header here -->
                <header class="slds-modal__header">
                    <h3 id="modal-heading-03" class="slds-text-heading_medium slds-hyphenate">Cambio de estado reclamación</h3>
                </header>
                <!-- Modal/Popup Box LWC body starts here -->
                <div class="slds-modal__content slds-p-around_medium" id="modal-content-id-3">
                    <template if:true={mostrarRectificar}>
                        <p>Tras seleccionar el subestado <b>'Rectificar'</b> la reclamación pasará a estado <b>'Envio organismos'</b> donde realizar la operativa oportuna.</p>
                    </template>
                    <template if:true={mostrarNoRectificar}>
                        <p>Tras seleccionar el subestado <b>'No rectificar'</b> la reclamación pasará a estado <b>'Envio organismos'</b> donde realizar la operativa oportuna.</p>
                    </template>
                </div>
                <!-- Modal/Popup Box LWC footer starts here -->
                <footer class="slds-modal__footer">
                    <button class="slds-button slds-button_brand" onclick={pasoDeRectEnvioOrg} title="Ok">Confirmar</button> 
                </footer>
            </div>
        </section>
        <div class="slds-backdrop slds-backdrop_open"></div>
    </template>

    <template if:true={isLoading}>
        <lightning-spinner alternative-text="Loading" size="large" variant="brand"></lightning-spinner>
    </template>

</template>