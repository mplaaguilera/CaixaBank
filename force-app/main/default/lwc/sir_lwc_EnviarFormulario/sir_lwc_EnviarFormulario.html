<template>
  <template if:true={pasoUno}>
    <header class="slds-modal__header">
    <h2 class="slds-modal__title slds-hyphenate">Paso 1: Enviar Proceso Refinanciación</h2>
    </header>

    <div class="slds-modal__content slds-p-around_medium">
        <template if:true={mensajeEspera}>
            <div class="slds-notify_container slds-is-relative">
                <div class="slds-notify slds-notify_toast slds-theme_info" role="status">                  
                  <lightning-spinner alternative-text="Loading" variant="brand" size="small"></lightning-spinner>
                  <div class="slds-notify__content">                    
                    <h2 class="slds-text-heading_small">Por favor espere</h2>
                  </div>                  
                </div>
              </div>
        </template>
        <template if:true={mensajeOK}>
            <div class="slds-notify_container slds-is-relative">
                <div class="slds-notify slds-notify_toast slds-theme_success" role="status">
                  <span class="slds-icon_container slds-icon-utility-success slds-m-right_small slds-no-flex slds-align-top" title="Correcto">
                    <svg class="slds-icon slds-icon_small" aria-hidden="true">
                      <use xlink:href="/assets/icons/utility-sprite/svg/symbols.svg#success"></use>
                    </svg>
                  </span>
                  <div class="slds-notify__content">
                    <h2 class="slds-text-heading_small">Se ha enviado el proceso correctamente.</h2>
                  </div>                  
                </div>
              </div>
        </template>
        <template if:true={mensajeKO}>
            <div class="slds-notify_container slds-is-relative">
                <div class="slds-notify slds-notify_toast slds-theme_error" role="status">                  
                    <span class="slds-icon_container slds-icon-utility-error slds-m-right_small slds-no-flex slds-align-top" title="Error">
                        <svg class="slds-icon slds-icon_small" aria-hidden="true">
                        <use xlink:href="/assets/icons/utility-sprite/svg/symbols.svg#error"></use>
                        </svg>
                    </span>
                    <div class="slds-notify__content">
                        <h2 class="slds-text-heading_small "><lightning-formatted-rich-text value={mensajeError} ></lightning-formatted-rich-text> </h2>
                        {codigoError}
                      </div>
                </div>
            </div>
        </template>
    </div>  
  </template>   

  <template if:true={pasoDos}>
    <header class="slds-modal__header">
    <h2 class="slds-modal__title slds-hyphenate">Paso 2: Enviar Formulario Refinanciación</h2>
    </header>

    <div class="slds-modal__content slds-p-around_medium">
        <template if:true={mensajeEspera}>
            <div class="slds-notify_container slds-is-relative">
                <div class="slds-notify slds-notify_toast slds-theme_info" role="status">                  
                  <lightning-spinner alternative-text="Loading" variant="brand" size="small"></lightning-spinner>
                  <div class="slds-notify__content">                    
                    <h2 class="slds-text-heading_small">Por favor espere</h2>
                  </div>                  
                </div>
              </div>
        </template>
        <template if:true={mensajeOK}>
            <div class="slds-notify_container slds-is-relative">
                <div class="slds-notify slds-notify_toast slds-theme_success" role="status">
                  <span class="slds-icon_container slds-icon-utility-success slds-m-right_small slds-no-flex slds-align-top" title="Correcto">
                    <svg class="slds-icon slds-icon_small" aria-hidden="true">
                      <use xlink:href="/assets/icons/utility-sprite/svg/symbols.svg#success"></use>
                    </svg>
                  </span>
                  <div class="slds-notify__content">
                    <h2 class="slds-text-heading_small">Se ha enviado el formulario correctamente.</h2>
                  </div>                  
                </div>
              </div>
        </template>
        <template if:true={mensajeKO}>
            <div class="slds-notify_container slds-is-relative">
                <div class="slds-notify slds-notify_toast slds-theme_error" role="status">                  
                    <span class="slds-icon_container slds-icon-utility-error slds-m-right_small slds-no-flex slds-align-top" title="Error">
                        <svg class="slds-icon slds-icon_small" aria-hidden="true">
                        <use xlink:href="/assets/icons/utility-sprite/svg/symbols.svg#error"></use>
                        </svg>
                    </span>
                    <div class="slds-notify__content">
                        <h2 class="slds-text-heading_small "><lightning-formatted-rich-text value={mensajeError} ></lightning-formatted-rich-text> </h2>
                        {codigoError}
                    </div>
                </div>
            </div>
        </template>
    </div>  
  </template>  

  <footer class="slds-modal__footer">
    <button class="slds-button slds-button_neutral" onclick={cancelar} disabled={disabledCerrar}>Cerrar</button>
  </footer>
</template>