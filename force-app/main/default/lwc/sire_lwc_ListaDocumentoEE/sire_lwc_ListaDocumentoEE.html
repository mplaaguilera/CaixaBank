<template>
    <!-- LOADING -->
    <template if:true={isLoaded} >
        <div class="slds-modal__content slds-var-p-around_medium" style="position: relative;height: 150px;">
          <div class="slds-grid slds-wrap slds-form slds-align_absolute-center">
          <lightning-spinner alternative-text="Loading..." variant="brand" ></lightning-spinner>
          </div>
        </div>
      </template>

    <!-- TABLA DOCUMENTOS -->
   <!-- <template if:true={tablaVisible}ocultarTabla>-->
        <div class="tabla ocultarTabla"> 
            <div class="slds-modal__header">
                <h1 id="modal-heading-01" class="slds-modal__title slds-hyphenate">{tituloTabla}</h1>
            </div>
            <div class="slds-modal__content slds-var-p-around_medium" id="modal-content-id-1">
                <div style="height: 300px;" class="slds-scrollable">
                    <lightning-datatable
                        key-field="idDocument"
                        data={documentos}
                        columns={columnsDocumento}
                        onrowaction={handleRowAction}
                        onrowselection={getSelectedDocument}
                        selected-rows={preSelectedRows}
                        max-row-selection="1">
                    </lightning-datatable>   
                </div>             
            </div>
        </div>
   <!-- </template>   -->

    <!-- NO HAY RESULTADOS -->
    <template if:true={noHayResultados}>
        <div class="tabla">            
            <div class="slds-modal__content slds-var-p-around_medium">
                <div class="slds-text-heading_small slds-text-align_center slds-var-p-around_small" style="margin-top: 20px;margin-bottom: 20px;">
                    No existen documentos para este cliente.
                </div>
            </div>            
        </div>
    </template>  

    <!-- ERROR  -->
    <template if:true={mostrarError}>
        <div class="slds-modal__content slds-var-p-around_medium error" >
            <div class="slds-grid slds-wrap slds-form slds-align_absolute-center">
                <div class="slds-notify_container slds-is-relative">
                    <div class="slds-notify slds-notify_toast slds-theme_error" role="status">                  
                        <span class="slds-icon_container slds-icon-utility-error slds-var-m-right_small slds-no-flex slds-align-top" title="Error">
                        <svg class="slds-icon slds-icon_small" aria-hidden="true">
                            <use xlink:href="/assets/icons/utility-sprite/svg/symbols.svg#error"></use>
                        </svg>
                        </span>
                        <div class="slds-notify__content">
                            <h2 class="slds-text-heading_small"><lightning-formatted-rich-text value={mensajeError} ></lightning-formatted-rich-text> </h2>
                            {codigoError}
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </template>

    <!-- BOTONES -->
    <footer class="slds-modal__footer">
        <lightning-button variant="neutral" label="Cancelar" title="Cancelar" onclick={closeQuickAction} disabled={disabledCancelar} class="slds-var-m-left_x-small"></lightning-button>
        <lightning-button variant="brand" label="Enviar" title="Enviar" onclick={handleSaveAndSendClick} disabled={disabledGuardar} class="slds-var-m-left_x-small"></lightning-button>
    </footer>
</template>