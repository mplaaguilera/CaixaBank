<template>
    <lightning-tabset class="flexipage-tabset">
        <lightning-tab label="Grupo Comercial" value="1" onactive={handleActive}>
            <div class="slds-card__body slds-card__body_inner">
                <c-cibe_-Grupos-Comerciales 
                    record-id={recordId} 
                    onrefreshrelated={refreshRelatedLists}>
                </c-cibe_-Grupos-Comerciales>
            </div>
        </lightning-tab>
        <lightning-tab label="Oportunidades" value="2" onactive={handleActive}>
            <div class="slds-card__body slds-card__body_inner">
                <c-cibe_-Opportunities-From-Groups
                    record-ids={recordIdsOpportunity}
                    onloaded={handleLoaded}>
                </c-cibe_-Opportunities-From-Groups>
                <template if:false={isLoaded}>
                    <lightning-spinner variant="brand" size="medium"> </lightning-spinner>
                </template>
            </div>
        </lightning-tab>
        <lightning-tab label="Citas" value="3" onactive={handleActive}>
            <div class="slds-card__body slds-card__body_inner">
                <c-cibe_-Events-From-Groups
                    record-ids={recordIdsEvent}
                    onloaded={handleLoaded}>
                </c-cibe_-Events-From-Groups>
                <template if:false={isLoaded}>
                    <lightning-spinner variant="brand" size="medium"> </lightning-spinner>
                </template>
            </div>
        </lightning-tab>
        <lightning-tab label="Tareas" value="4" onactive={handleActive}>
            <div class="slds-card__body slds-card__body_inner">
                <c-cibe_-Tasks-From-Groups
                    record-ids={recordIdsTasks}
                    onloaded={handleLoaded}>
                </c-cibe_-Tasks-From-Groups>
                <template if:false={isLoaded}>
                    <lightning-spinner variant="brand" size="medium"> </lightning-spinner>
                </template>
            </div>
        </lightning-tab>
        <lightning-tab label="Equipo Caixabank" value="5" onactive={handleActive}>
            <div class="slds-card__body slds-card__body_inner">
                <c-cibe_-C-X-B-Visualizacion-G-C
                    record-ids={recordIdsEquipoCB}>
                </c-cibe_-C-X-B-Visualizacion-G-C>
            </div>
        </lightning-tab>
    </lightning-tabset>
</template>