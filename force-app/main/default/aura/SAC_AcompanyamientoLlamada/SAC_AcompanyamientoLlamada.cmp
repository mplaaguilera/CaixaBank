<aura:component controller="SAC_LCMP_AcompanyamientoLlamada" implements="force:hasRecordId,flexipage:availableForAllPageTypes,force:appHostable" access="global">


    <aura:attribute name="recordId" type="String" />
    <aura:attribute name="casoEnviado" type="Case" />
    <aura:attribute name="necesitaGestion" type="Boolean" />
    <aura:attribute name="isLoading" type="Boolean" />
    <aura:attribute name="estado" type="String" />

    <aura:handler name="init" value="{! this }" action="{! c.doInit }" /> 
    <aura:handler event="force:refreshView" action="{! c.doInit}" />


    <aura:if isTrue="{!v.isLoading}">
                <div class="slds-p-around_x-large">
                    <lightning:spinner alternative-text="Loading" size="large" variant="brand"></lightning:spinner>
                </div>
    </aura:if>


    <aura:if isTrue="{!and(v.necesitaGestion, or(v.estado == 'SAC_002', v.estado == 'SAC_003') || v.estado == 'SAC_007')}">
        <div class='slds-grid slds-grid_vertical-align-center ' style="width: 100%;">
            <div class="slds-size_12-of-12">
                <lightning:card>
                    <h3 slot="title" style="padding-left: 14px; font-size: 16px; font-weight: bold;">
                        <lightning:icon class="colorRojo" iconName="standard:call" variant="error" size="small" title="SeguimientoPendiente" />
                        Llamada pendiente
                        <div style="padding-right: 14px; float: right; font-weight: normal; font-size: 14px">
                            <lightning:button variant="brand" label="Nueva llamada" title="Nueva llamada" onclick="{!c.llamadaNueva}"/>
                        </div>
                    </h3>
                    
                    <div class='slds-grid ' style="width: 100%;">
                        <div class="slds-col slds-size_12-of-12" style="margin: auto;" >
                            <p style="font-weight: bold; margin-top:8px; padding-left:16px">Tiene pendiente gestionar una llamada de acompa√±amiento. </p>
                        </div>
                        
                    </div>                    
                </lightning:card>
            </div>
        </div>        
    </aura:if>

</aura:component>